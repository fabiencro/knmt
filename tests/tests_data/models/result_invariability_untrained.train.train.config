{
  "command_line": {
    "sample_every": 200,
    "reverse_src": false,
    "data_prefix": "tests/tests_data/models/result_invariability.data",
    "mb_size": 2,
    "l2_gradient_clipping": 1,
    "weight_decay": null,
    "load_optimizer_state": null,
    "hard_gradient_clipping": null,
    "max_src_tgt_length": null,
    "lexicon_prob_epsilon": 0.001,
    "curiculum_training": false,
    "no_shuffle_of_training_data": false,
    "init_orth": false,
    "load_model": null,
    "max_nb_iters": 800,
    "decoder_cell_type": "lstm",
    "Hi": 6,
    "__subcommand_name": "train",
    "gpu": null,
    "report_every": 200,
    "Ha": 70,
    "momentum": 0.9,
    "save_prefix": "tests/tests_data/models/result_invariability_untrained.train",
    "optimizer": "adam",
    "Hl": 12,
    "run_in_pdb": false,
    "learning_rate": 0.01,
    "max_nb_epochs": null,
    "use_bn_length": 0,
    "Ho": 15,
    "use_accumulated_attn": false,
    "randomized_data": false,
    "use_previous_prediction": 0,
    "no_report_or_save": false,
    "no_resume": false,
    "nb_batch_to_sort": 20,
    "encoder_cell_type": "lstm",
    "use_memory_optimization": false,
    "Eo": 12,
    "save_ckpt_every": 4000,
    "Ei": 5,
    "save_initial_model_to": null,
    "reverse_tgt": false,
    "use_deep_attn": false,
    "load_trainer_snapshot": null,
    "use_reinf": false,
    "lexical_probability_dictionary": null,
    "noise_on_prev_word": false
  },
  "Vi": 137,
  "Vo": 142,
  "voc": "tests/tests_data/models/result_invariability.data.voc",
  "data": "tests/tests_data/models/result_invariability.data.data.json.gz",
  "knmt_version": {
    "package_version": "0.9.14",
    "git": "50fec8f43cd8b87db59c89c4d28e7b3c69a6d045",
    "dirty_status": "dirty",
    "diff": "diff --git a/bin/make-result-invariability-model b/bin/make-result-invariability-model\nindex 9263fd2..702f66b 100755\n--- a/bin/make-result-invariability-model\n+++ b/bin/make-result-invariability-model\n@@ -4,18 +4,38 @@\n # found in tests/tests_data/models directory.  This model is used by a test that \n # checks after each new commit if the translation results are still the same as expected.\n \n+# Prepare the data for 2 models, one well trained and one not so well trained.\n+\n knmt make_data tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability.data --dev_src tests/tests_data/src2.txt --dev_tgt tests/tests_data/tgt2.txt\n \n+knmt make_data tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained.data --dev_src tests/tests_data/src2.txt --dev_tgt tests/tests_data/tgt2.txt\n+\n+\n+# Train the models.\n+\n knmt train tests/tests_data/models/result_invariability.data tests/tests_data/models/result_invariability.train --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\n \n+knmt train tests/tests_data/models/result_invariability.data tests/tests_data/models/result_invariability_untrained.train --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\n+\n+\n # Remove unneeded large files.\n rm -rf tests/tests_data/models/result_invariability.train\n rm -rf tests/tests_data/models/result_invariability.train.model.best_loss.npz\n rm -rf tests/tests_data/models/result_invariability.train.result.sqlite\n \n-# Create translations with the model using beam search.\n+rm -rf tests/tests_data/models/result_invariability_untrained.train\n+rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\n+rm -rf tests/tests_data/models/result_invariability_untrained.train.result.sqlite\n+\n+\n+# Create translations with the models using beam search.\n knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search.txt --mode beam_search --beam_width 30\n \n-# Create translations with the model using greedy search.\n+knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt --mode beam_search --beam_width 30\n+\n+\n+# Create translations with the models using greedy search.\n knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_greedy_search.txt --mode translate\n \n+knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt --mode translate\n+\n",
    "version_from": "git call",
    "chainer": {
      "version": "1.17.0",
      "cuda": false,
      "cudnn": false,
      "cuda_version": "unavailable",
      "cudnn_version": "unavailable"
    }
  }
}