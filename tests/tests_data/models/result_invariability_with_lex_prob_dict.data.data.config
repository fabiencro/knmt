{
  "src_fn": "tests/tests_data/src2.txt",
  "tgt_fn": "tests/tests_data/tgt2.txt",
  "description": null,
  "data": {
    "src_fn": "tests/tests_data/src2.txt",
    "tgt_fn": "tests/tests_data/tgt2.txt",
    "save_prefix": "tests/tests_data/models/result_invariability_with_lex_prob_dict.data",
    "max_nb_ex": null,
    "dev_src": "tests/tests_data/src2.txt",
    "dev_tgt": "tests/tests_data/tgt2.txt",
    "test_src": null,
    "test_tgt": null,
    "mode_align": null,
    "align_fn": null
  },
  "processing": {
    "src_voc_size": 32000,
    "tgt_voc_size": 32000,
    "use_voc": null,
    "tgt_segmentation_type": "word",
    "src_segmentation_type": "word",
    "bpe_src": null,
    "bpe_tgt": null,
    "joint_bpe": null,
    "latin_src": false,
    "latin_tgt": false,
    "latin_type": "all_adjoint",
    "source_char_conversion": null,
    "force_overwrite": true
  },
  "infos": {
    "train": {
      "src": {
        "nb_tokens": 188,
        "nb_unk": 0,
        "unknown_percent": 0.0
      },
      "tgt": {
        "nb_tokens": 184,
        "nb_unk": 0,
        "unknown_percent": 0.0
      }
    },
    "dev": {
      "src": {
        "nb_tokens": 188,
        "nb_unk": 0,
        "unknown_percent": 0.0
      },
      "tgt": {
        "nb_tokens": 184,
        "nb_unk": 0,
        "unknown_percent": 0.0
      }
    }
  },
  "metadata": {
    "config_version_num": 1.0,
    "command_line": "bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz",
    "knmt_version": {
      "package_version": "0.9.19",
      "git": "5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67",
      "dirty_status": "dirty",
      "diff": "diff --git a/bin/make-result-invariability-model b/bin/make-result-invariability-model\nindex a625198..18b558f 100755\n--- a/bin/make-result-invariability-model\n+++ b/bin/make-result-invariability-model\n@@ -6,112 +6,114 @@\n \n GPU=\"$1\"\n \n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability \"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\" $GPU\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained \"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\" $GPU\n-\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability \"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\" $GPU\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained \"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\" $GPU\n+# \n bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict \"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\" $GPU\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict \"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\" $GPU\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict \"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\" $GPU\n \n \n-# Reduce config file sizes.\n-for config_file in tests/tests_data/models/*.config\n-do\n-    sed -i '/\"diff\":/ d' $config_file\n-done\n+# # Reduce config file sizes.\n+# for config_file in tests/tests_data/models/*.config\n+# do\n+#     sed -i '/\"diff\":/ d' $config_file\n+# done\n \n \n # Create translations with the models using beam search.\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search.txt --mode beam_search --beam_width 30\n-\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt --mode beam_search --beam_width 30\n-\n-\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\n-\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\n-\n-\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\n-    --beam_pruning_margin 1.5 \\\n-    --beam_score_coverage_penalty \"google\" --beam_score_coverage_penalty_strength 0.3 \\\n-    --beam_score_length_normalization \"simple\" \\\n-    --post_score_coverage_penalty \"google\" --post_score_coverage_penalty_strength 0.4 \\\n-    --post_score_length_normalization \"simple\"\n-\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\n-    --beam_pruning_margin 1.5 \\\n-    --beam_score_coverage_penalty \"google\" --beam_score_coverage_penalty_strength 0.3 \\\n-    --beam_score_length_normalization \"simple\" \\\n-    --post_score_coverage_penalty \"google\" --post_score_coverage_penalty_strength 0.4 \\\n-    --post_score_length_normalization \"simple\"\n-\n-\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\n-    --beam_pruning_margin 1.5 \\\n-    --beam_score_coverage_penalty \"google\" --beam_score_coverage_penalty_strength 0.3 \\\n-    --beam_score_length_normalization \"google\" --beam_score_length_normalization_strength 0.25 \\\n-    --post_score_coverage_penalty \"google\" --post_score_coverage_penalty_strength 0.4 \\\n-    --post_score_length_normalization \"google\" --post_score_length_normalization_strength 0.33\n-\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\n-    --beam_pruning_margin 1.5 \\\n-    --beam_score_coverage_penalty \"google\" --beam_score_coverage_penalty_strength 0.3 \\\n-    --beam_score_length_normalization \"google\" --beam_score_length_normalization_strength 0.25 \\\n-    --post_score_coverage_penalty \"google\" --post_score_coverage_penalty_strength 0.4 \\\n-    --post_score_length_normalization \"google\" --post_score_length_normalization_strength 0.33\n-\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability.train.train.config --additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\n-\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config --additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\n-\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search.txt --mode beam_search --beam_width 30\n+# \n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt --mode beam_search --beam_width 30\n+# \n+# \n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\n+# \n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\n+# \n+# \n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\n+#     --beam_pruning_margin 1.5 \\\n+#     --beam_score_coverage_penalty \"google\" --beam_score_coverage_penalty_strength 0.3 \\\n+#     --beam_score_length_normalization \"simple\" \\\n+#     --post_score_coverage_penalty \"google\" --post_score_coverage_penalty_strength 0.4 \\\n+#     --post_score_length_normalization \"simple\"\n+# \n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\n+#     --beam_pruning_margin 1.5 \\\n+#     --beam_score_coverage_penalty \"google\" --beam_score_coverage_penalty_strength 0.3 \\\n+#     --beam_score_length_normalization \"simple\" \\\n+#     --post_score_coverage_penalty \"google\" --post_score_coverage_penalty_strength 0.4 \\\n+#     --post_score_length_normalization \"simple\"\n+# \n+# \n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\n+#     --beam_pruning_margin 1.5 \\\n+#     --beam_score_coverage_penalty \"google\" --beam_score_coverage_penalty_strength 0.3 \\\n+#     --beam_score_length_normalization \"google\" --beam_score_length_normalization_strength 0.25 \\\n+#     --post_score_coverage_penalty \"google\" --post_score_coverage_penalty_strength 0.4 \\\n+#     --post_score_length_normalization \"google\" --post_score_length_normalization_strength 0.33\n+# \n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\n+#     --beam_pruning_margin 1.5 \\\n+#     --beam_score_coverage_penalty \"google\" --beam_score_coverage_penalty_strength 0.3 \\\n+#     --beam_score_length_normalization \"google\" --beam_score_length_normalization_strength 0.25 \\\n+#     --post_score_coverage_penalty \"google\" --post_score_coverage_penalty_strength 0.4 \\\n+#     --post_score_length_normalization \"google\" --post_score_length_normalization_strength 0.33\n+# \n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability.train.train.config --additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\n+# \n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config --additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\n+\n+\n+knmt eval tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config --additional_trained_model tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\n \n # Create translations with the models using greedy search.\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_greedy_search.txt --mode translate\n-\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt --mode translate\n-\n-# Remove unneeded large files.\n-rm -rf tests/tests_data/models/result_invariability.train\n-rm -rf tests/tests_data/models/result_invariability.train.model.best.npz.config\n-rm -rf tests/tests_data/models/result_invariability.train.model.best_loss.npz.config\n-rm -rf tests/tests_data/models/result_invariability.train.result.sqlite\n-rm -rf tests/tests_data/models/result_invariability.train.model.final.npz\n-rm -rf tests/tests_data/models/result_invariability.train.model.final.npz.config\n-\n-rm -rf tests/tests_data/models/result_invariability_untrained.train\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best.npz.config\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz.config\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.result.sqlite\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz.config\n-\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz.config\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz.config\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.result.sqlite\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz.config\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz.config\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.result.sqlite\n-\n-rm -rf tests/tests_data/models/result_invariability.translations.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search.txt.eval.config.json\n-\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability.translations_using_greedy_search.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt.eval.config.json\n-\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_greedy_search.txt --mode translate\n+# \n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt --mode translate\n+# \n+# # Remove unneeded large files.\n+# rm -rf tests/tests_data/models/result_invariability.train\n+# rm -rf tests/tests_data/models/result_invariability.train.model.best.npz.config\n+# rm -rf tests/tests_data/models/result_invariability.train.model.best_loss.npz.config\n+# rm -rf tests/tests_data/models/result_invariability.train.result.sqlite\n+# rm -rf tests/tests_data/models/result_invariability.train.model.final.npz\n+# rm -rf tests/tests_data/models/result_invariability.train.model.final.npz.config\n+# \n+# rm -rf tests/tests_data/models/result_invariability_untrained.train\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best.npz.config\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz.config\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.result.sqlite\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz.config\n+# \n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz.config\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz.config\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.result.sqlite\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz.config\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz.config\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.result.sqlite\n+# \n+# rm -rf tests/tests_data/models/result_invariability.translations.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search.txt.eval.config.json\n+# \n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_greedy_search.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt.eval.config.json\n+# \n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\ndiff --git a/tests/suite1/result_invariability_test.py b/tests/suite1/result_invariability_test.py\nindex 99b7f39..a3a2082 100644\n--- a/tests/suite1/result_invariability_test.py\n+++ b/tests/suite1/result_invariability_test.py\n@@ -16,60 +16,62 @@ import random\n class TestResultInvariability:\n \n     @pytest.mark.parametrize(\"model_name, variant_name, variant_options\", [\n-        (\"result_invariability\", \"beam_search\",\n-            \"--mode beam_search --beam_width 30\"),\n-        (\"result_invariability_untrained\", \"beam_search\",\n-            \"--mode beam_search --beam_width 30\"),\n-        (\"result_invariability\", \"greedy_search\",\n-            \"--mode translate\"),\n-        (\"result_invariability_untrained\", \"greedy_search\",\n-            \"--mode translate\"),\n-        (\"result_invariability\", \"beam_search_and_prob_space_combination\",\n-            \"--mode beam_search --beam_width 30 \"\n-            \"--prob_space_combination\"),\n-        (\"result_invariability_untrained\", \"beam_search_and_prob_space_combination\",\n-            \"--mode beam_search --beam_width 30 \"\n-            \"--prob_space_combination\"),\n-        (\"result_invariability\", \"beam_search_and_google_options_1\",\n-            \"--mode beam_search --beam_width 30 \"\n-            \"--beam_pruning_margin 1.5 \"\n-            \"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \"\n-            \"--beam_score_length_normalization simple \"\n-            \"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \"\n-            \"--post_score_length_normalization simple\"),\n-        (\"result_invariability_untrained\", \"beam_search_and_google_options_1\",\n-            \"--mode beam_search --beam_width 30 \"\n-            \"--beam_pruning_margin 1.5 \"\n-            \"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \"\n-            \"--beam_score_length_normalization simple \"\n-            \"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \"\n-            \"--post_score_length_normalization simple\"),\n-        (\"result_invariability\", \"beam_search_and_google_options_2\",\n-            \"--mode beam_search --beam_width 30 \"\n-            \"--beam_pruning_margin 1.5 \"\n-            \"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \"\n-            \"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \"\n-            \"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \"\n-            \"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\"),\n-        (\"result_invariability_untrained\", \"beam_search_and_google_options_2\",\n-            \"--mode beam_search --beam_width 30 \"\n-            \"--beam_pruning_margin 1.5 \"\n-            \"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \"\n-            \"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \"\n-            \"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \"\n-            \"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\"),\n-        (\"result_invariability\", \"ensemble_search\",\n-            \"--mode beam_search --beam_width 30 \"\n-            \"--additional_training_config tests/tests_data/models/result_invariability.train.train.config \"\n-            \"--additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\"),\n-        (\"result_invariability_untrained\", \"ensemble_search\",\n-            \"--mode beam_search --beam_width 30 \"\n-            \"--additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config \"\n-            \"--additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\"),\n+        # (\"result_invariability\", \"beam_search\",\n+        #     \"--mode beam_search --beam_width 30\"),\n+        # (\"result_invariability_untrained\", \"beam_search\",\n+        #     \"--mode beam_search --beam_width 30\"),\n+        # (\"result_invariability\", \"greedy_search\",\n+        #     \"--mode translate\"),\n+        # (\"result_invariability_untrained\", \"greedy_search\",\n+        #     \"--mode translate\"),\n+        # (\"result_invariability\", \"beam_search_and_prob_space_combination\",\n+        #     \"--mode beam_search --beam_width 30 \"\n+        #     \"--prob_space_combination\"),\n+        # (\"result_invariability_untrained\", \"beam_search_and_prob_space_combination\",\n+        #     \"--mode beam_search --beam_width 30 \"\n+        #     \"--prob_space_combination\"),\n+        # (\"result_invariability\", \"beam_search_and_google_options_1\",\n+        #     \"--mode beam_search --beam_width 30 \"\n+        #     \"--beam_pruning_margin 1.5 \"\n+        #     \"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \"\n+        #     \"--beam_score_length_normalization simple \"\n+        #     \"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \"\n+        #     \"--post_score_length_normalization simple\"),\n+        # (\"result_invariability_untrained\", \"beam_search_and_google_options_1\",\n+        #     \"--mode beam_search --beam_width 30 \"\n+        #     \"--beam_pruning_margin 1.5 \"\n+        #     \"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \"\n+        #     \"--beam_score_length_normalization simple \"\n+        #     \"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \"\n+        #     \"--post_score_length_normalization simple\"),\n+        # (\"result_invariability\", \"beam_search_and_google_options_2\",\n+        #     \"--mode beam_search --beam_width 30 \"\n+        #     \"--beam_pruning_margin 1.5 \"\n+        #     \"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \"\n+        #     \"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \"\n+        #     \"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \"\n+        #     \"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\"),\n+        # (\"result_invariability_untrained\", \"beam_search_and_google_options_2\",\n+        #     \"--mode beam_search --beam_width 30 \"\n+        #     \"--beam_pruning_margin 1.5 \"\n+        #     \"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \"\n+        #     \"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \"\n+        #     \"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \"\n+        #     \"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\"),\n+        # (\"result_invariability\", \"ensemble_search\",\n+        #     \"--mode beam_search --beam_width 30 \"\n+        #     \"--additional_training_config tests/tests_data/models/result_invariability.train.train.config \"\n+        #     \"--additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\"),\n+        # (\"result_invariability_untrained\", \"ensemble_search\",\n+        #     \"--mode beam_search --beam_width 30 \"\n+        #     \"--additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config \"\n+        #     \"--additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\"),\n         (\"result_invariability_with_lex_prob_dict\", \"beam_search\",\n             \"--mode beam_search --beam_width 30\"),\n-        (\"result_invariability_untrained_with_lex_prob_dict\", \"beam_search\",\n-            \"--mode beam_search --beam_width 30\"),\n+            #\"--mb_size 1 --mode eval_bleu --beam_width 30 --nb_steps_ratio 1.5 --normal\"),\n+            #\"--mode beam_search --beam_width 30 --nb_steps_ratio 1.5\"),\n+        # (\"result_invariability_untrained_with_lex_prob_dict\", \"beam_search\",\n+        #     \"--mode beam_search --beam_width 30\"),\n     ])\n     def test_eval_result_invariability(self, tmpdir, gpu, model_name, variant_name, variant_options):\n         \"\"\"\n@@ -88,6 +90,7 @@ class TestResultInvariability:\n         search_file = os.path.join(\n             str(search_eval_dir),\n             'translations_using_{0}.txt'.format(variant_name))\n+        # variant_options = variant_options + \" --ref {0}\".format(data_tgt_file)\n         args_eval_search = [train_prefix + '.train.config', train_prefix + '.model.best.npz', data_src_file, search_file] + variant_options.split(' ')\n         if gpu is not None:\n             args_eval_search += ['--gpu', gpu]\n@@ -97,49 +100,51 @@ class TestResultInvariability:\n             expected_translations = f.readlines()\n         with open(search_file) as f:\n             actual_translations = f.readlines()\n+        print \"file={0}\".format(os.path.join(str(test_data_dir), \"models/{0}.translations_using_{1}.txt\".format(model_name, variant_name)))\n         print \"expected_translations\"\n         for p in expected_translations:\n             print p\n+        print \"file={0}\".format(search_file)\n         print \"actual_translations\"\n         for p in actual_translations:\n             print p\n \n         assert(actual_translations == expected_translations)\n \n-    @pytest.mark.parametrize(\"model_name, options\", [\n-        (\"result_invariability\", \"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\"),\n-        (\"result_invariability_untrained\", \"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\"),\n-        (\"result_invariability_with_lex_prob_dict\", \"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\"),\n-        (\"result_invariability_untrained_with_lex_prob_dict\", \"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\")\n-    ])\n-    def test_train_result_invariability(self, tmpdir, gpu, model_name, options):\n-        \"\"\"\n-        Train some models and check if the result is the same as the expected result.\n-        The result should be identical.\n-        If not, it means that a recent commit have changed the behavior of the system.\n-        \"\"\"\n+    # @pytest.mark.parametrize(\"model_name, options\", [\n+    #     (\"result_invariability\", \"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\"),\n+    #     (\"result_invariability_untrained\", \"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\"),\n+    #     (\"result_invariability_with_lex_prob_dict\", \"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\"),\n+    #     (\"result_invariability_untrained_with_lex_prob_dict\", \"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\")\n+    # ])\n+    # def test_train_result_invariability(self, tmpdir, gpu, model_name, options):\n+    #     \"\"\"\n+    #     Train some models and check if the result is the same as the expected result.\n+    #     The result should be identical.\n+    #     If not, it means that a recent commit have changed the behavior of the system.\n+    #     \"\"\"\n \n-        seed = 1234\n-        random.seed(seed)\n-        np.random.seed(seed)\n+    #     seed = 1234\n+    #     random.seed(seed)\n+    #     np.random.seed(seed)\n \n-        test_data_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), \"../tests_data\")\n-        data_src_file = os.path.join(test_data_dir, \"src2.txt\")\n-        data_tgt_file = os.path.join(test_data_dir, \"tgt2.txt\")\n-        work_dir = tmpdir.mkdir(\"work\")\n-        test_prefix = \"{0}/tests/tests_data/models/{1}\".format(str(work_dir), model_name)\n-        ref_prefix = \"tests/tests_data/models/{0}\".format(model_name)\n+    #     test_data_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), \"../tests_data\")\n+    #     data_src_file = os.path.join(test_data_dir, \"src2.txt\")\n+    #     data_tgt_file = os.path.join(test_data_dir, \"tgt2.txt\")\n+    #     work_dir = tmpdir.mkdir(\"work\")\n+    #     test_prefix = \"{0}/tests/tests_data/models/{1}\".format(str(work_dir), model_name)\n+    #     ref_prefix = \"tests/tests_data/models/{0}\".format(model_name)\n \n-        args_make_data = [data_src_file, data_tgt_file, test_prefix + \"_test.data\"] + '--dev_src {0} --dev_tgt {1}'.format(data_src_file, data_tgt_file).split(' ')\n-        main(arguments=[\"make_data\"] + args_make_data)\n+    #     args_make_data = [data_src_file, data_tgt_file, test_prefix + \"_test.data\"] + '--dev_src {0} --dev_tgt {1}'.format(data_src_file, data_tgt_file).split(' ')\n+    #     main(arguments=[\"make_data\"] + args_make_data)\n \n-        args_train = [test_prefix + \"_test.data\", test_prefix + \"_test.train\"] + options.split(' ')\n-        if gpu is not None:\n-            args_train += ['--gpu', gpu]\n-        main(arguments=[\"train\"] + args_train)\n+    #     args_train = [test_prefix + \"_test.data\", test_prefix + \"_test.train\"] + options.split(' ')\n+    #     if gpu is not None:\n+    #         args_train += ['--gpu', gpu]\n+    #     main(arguments=[\"train\"] + args_train)\n \n-        with np.load(test_prefix + '_test.train.model.best.npz') as test_model_data:\n-            with np.load(ref_prefix + '.train.model.best.npz') as ref_model_data:\n-                assert(len(test_model_data.keys()) == len(ref_model_data.keys()))\n-                for test_key, test_value in test_model_data.iteritems():\n-                    np.testing.assert_array_almost_equal(test_value, ref_model_data[test_key], 5)\n+    #     with np.load(test_prefix + '_test.train.model.best.npz') as test_model_data:\n+    #         with np.load(ref_prefix + '.train.model.best.npz') as ref_model_data:\n+    #             assert(len(test_model_data.keys()) == len(ref_model_data.keys()))\n+    #             for test_key, test_value in test_model_data.iteritems():\n+    #                 np.testing.assert_array_almost_equal(test_value, ref_model_data[test_key], 5)\ndiff --git a/tests/tests_data/models/result_invariability.data.data.config b/tests/tests_data/models/result_invariability.data.data.config\nindex 07fb51c..95934bd 100644\n--- a/tests/tests_data/models/result_invariability.data.data.config\n+++ b/tests/tests_data/models/result_invariability.data.data.config\n@@ -60,7 +60,7 @@\n     \"command_line\": \"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\",\n     \"knmt_version\": {\n       \"package_version\": \"0.9.19\",\n-      \"git\": \"cbeda5d10fc526c7426d26c56ae9fb878315b040\",\n+      \"git\": \"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\",\n       \"dirty_status\": \"dirty\",\n       \"version_from\": \"git call\",\n       \"chainer\": {\n@@ -71,6 +71,6 @@\n         \"cudnn_version\": \"unavailable\"\n       }\n     },\n-    \"creation_time\": \"05:46PM January 26, 2018\"\n+    \"creation_time\": \"10:28AM January 29, 2018\"\n   }\n }\n\\ No newline at end of file\ndiff --git a/tests/tests_data/models/result_invariability.data.data.json.gz b/tests/tests_data/models/result_invariability.data.data.json.gz\nindex f93e79a..96e5dbe 100644\nBinary files a/tests/tests_data/models/result_invariability.data.data.json.gz and b/tests/tests_data/models/result_invariability.data.data.json.gz differ\ndiff --git a/tests/tests_data/models/result_invariability.train.model.best.npz b/tests/tests_data/models/result_invariability.train.model.best.npz\nindex 0b6983e..5fa8d99 100644\nBinary files a/tests/tests_data/models/result_invariability.train.model.best.npz and b/tests/tests_data/models/result_invariability.train.model.best.npz differ\ndiff --git a/tests/tests_data/models/result_invariability.train.model.best_loss.npz b/tests/tests_data/models/result_invariability.train.model.best_loss.npz\nindex 0b6983e..5fa8d99 100644\nBinary files a/tests/tests_data/models/result_invariability.train.model.best_loss.npz and b/tests/tests_data/models/result_invariability.train.model.best_loss.npz differ\ndiff --git a/tests/tests_data/models/result_invariability.train.train.config b/tests/tests_data/models/result_invariability.train.train.config\nindex 982322e..9932ab3 100644\n--- a/tests/tests_data/models/result_invariability.train.train.config\n+++ b/tests/tests_data/models/result_invariability.train.train.config\n@@ -96,7 +96,7 @@\n     \"command_line\": \"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\",\n     \"knmt_version\": {\n       \"package_version\": \"0.9.19\",\n-      \"git\": \"cbeda5d10fc526c7426d26c56ae9fb878315b040\",\n+      \"git\": \"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\",\n       \"dirty_status\": \"dirty\",\n       \"version_from\": \"git call\",\n       \"chainer\": {\n@@ -107,6 +107,6 @@\n         \"cudnn_version\": \"unavailable\"\n       }\n     },\n-    \"creation_time\": \"05:46PM January 26, 2018\"\n+    \"creation_time\": \"10:28AM January 29, 2018\"\n   }\n }\n\\ No newline at end of file\ndiff --git a/tests/tests_data/models/result_invariability_untrained.data.data.config b/tests/tests_data/models/result_invariability_untrained.data.data.config\nindex 11eaf58..6c6ed9a 100644\n--- a/tests/tests_data/models/result_invariability_untrained.data.data.config\n+++ b/tests/tests_data/models/result_invariability_untrained.data.data.config\n@@ -60,7 +60,7 @@\n     \"command_line\": \"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\",\n     \"knmt_version\": {\n       \"package_version\": \"0.9.19\",\n-      \"git\": \"cbeda5d10fc526c7426d26c56ae9fb878315b040\",\n+      \"git\": \"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\",\n       \"dirty_status\": \"dirty\",\n       \"version_from\": \"git call\",\n       \"chainer\": {\n@@ -71,6 +71,6 @@\n         \"cudnn_version\": \"unavailable\"\n       }\n     },\n-    \"creation_time\": \"05:47PM January 26, 2018\"\n+    \"creation_time\": \"10:29AM January 29, 2018\"\n   }\n }\n\\ No newline at end of file\ndiff --git a/tests/tests_data/models/result_invariability_untrained.data.data.json.gz b/tests/tests_data/models/result_invariability_untrained.data.data.json.gz\nindex 658ea4e..42043d7 100644\nBinary files a/tests/tests_data/models/result_invariability_untrained.data.data.json.gz and b/tests/tests_data/models/result_invariability_untrained.data.data.json.gz differ\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.model.best.npz b/tests/tests_data/models/result_invariability_untrained.train.model.best.npz\nindex 59046d8..f868a6f 100644\nBinary files a/tests/tests_data/models/result_invariability_untrained.train.model.best.npz and b/tests/tests_data/models/result_invariability_untrained.train.model.best.npz differ\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz b/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\nindex 59046d8..f868a6f 100644\nBinary files a/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz and b/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz differ\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.train.config b/tests/tests_data/models/result_invariability_untrained.train.train.config\nindex 4dd8bee..7e02f74 100644\n--- a/tests/tests_data/models/result_invariability_untrained.train.train.config\n+++ b/tests/tests_data/models/result_invariability_untrained.train.train.config\n@@ -96,7 +96,7 @@\n     \"command_line\": \"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\",\n     \"knmt_version\": {\n       \"package_version\": \"0.9.19\",\n-      \"git\": \"cbeda5d10fc526c7426d26c56ae9fb878315b040\",\n+      \"git\": \"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\",\n       \"dirty_status\": \"dirty\",\n       \"version_from\": \"git call\",\n       \"chainer\": {\n@@ -107,6 +107,6 @@\n         \"cudnn_version\": \"unavailable\"\n       }\n     },\n-    \"creation_time\": \"05:47PM January 26, 2018\"\n+    \"creation_time\": \"10:29AM January 29, 2018\"\n   }\n }\n\\ No newline at end of file\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\nindex 2385b91..05aaeb7 100644\n--- a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\n+++ b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\n@@ -60,7 +60,7 @@\n     \"command_line\": \"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\",\n     \"knmt_version\": {\n       \"package_version\": \"0.9.19\",\n-      \"git\": \"cbeda5d10fc526c7426d26c56ae9fb878315b040\",\n+      \"git\": \"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\",\n       \"dirty_status\": \"dirty\",\n       \"version_from\": \"git call\",\n       \"chainer\": {\n@@ -71,6 +71,6 @@\n         \"cudnn_version\": \"unavailable\"\n       }\n     },\n-    \"creation_time\": \"05:50PM January 26, 2018\"\n+    \"creation_time\": \"10:32AM January 29, 2018\"\n   }\n }\n\\ No newline at end of file\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz\nindex 6360163..7485ea5 100644\nBinary files a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz and b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz differ\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz\nindex ddd983b..2c7a9ac 100644\nBinary files a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz and b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz differ\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\nindex 535d7b3..65a4a2a 100644\n--- a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\n+++ b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\n@@ -96,7 +96,7 @@\n     \"command_line\": \"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\",\n     \"knmt_version\": {\n       \"package_version\": \"0.9.19\",\n-      \"git\": \"cbeda5d10fc526c7426d26c56ae9fb878315b040\",\n+      \"git\": \"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\",\n       \"dirty_status\": \"dirty\",\n       \"version_from\": \"git call\",\n       \"chainer\": {\n@@ -107,6 +107,6 @@\n         \"cudnn_version\": \"unavailable\"\n       }\n     },\n-    \"creation_time\": \"05:50PM January 26, 2018\"\n+    \"creation_time\": \"10:32AM January 29, 2018\"\n   }\n }\n\\ No newline at end of file\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\nindex a7a546e..8ed2395 100644\n--- a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\n+++ b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\n@@ -60,8 +60,9 @@\n     \"command_line\": \"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\",\n     \"knmt_version\": {\n       \"package_version\": \"0.9.19\",\n-      \"git\": \"cbeda5d10fc526c7426d26c56ae9fb878315b040\",\n+      \"git\": \"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\",\n       \"dirty_status\": \"dirty\",\n+      \"diff\": \"diff --git a/bin/make-result-invariability-model b/bin/make-result-invariability-model\\nindex a625198..dce3024 100755\\n--- a/bin/make-result-invariability-model\\n+++ b/bin/make-result-invariability-model\\n@@ -6,112 +6,114 @@\\n \\n GPU=\\\"$1\\\"\\n \\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\" $GPU\\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\" $GPU\\n-\\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\" $GPU\\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\" $GPU\\n+# \\n bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\" $GPU\\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\" $GPU\\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\" $GPU\\n \\n \\n-# Reduce config file sizes.\\n-for config_file in tests/tests_data/models/*.config\\n-do\\n-    sed -i '/\\\"diff\\\":/ d' $config_file\\n-done\\n+# # Reduce config file sizes.\\n+# for config_file in tests/tests_data/models/*.config\\n+# do\\n+#     sed -i '/\\\"diff\\\":/ d' $config_file\\n+# done\\n \\n \\n # Create translations with the models using beam search.\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search.txt --mode beam_search --beam_width 30\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt --mode beam_search --beam_width 30\\n-\\n-\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\n-\\n-\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\n-    --beam_pruning_margin 1.5 \\\\\\n-    --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n-    --beam_score_length_normalization \\\"simple\\\" \\\\\\n-    --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n-    --post_score_length_normalization \\\"simple\\\"\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\n-    --beam_pruning_margin 1.5 \\\\\\n-    --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n-    --beam_score_length_normalization \\\"simple\\\" \\\\\\n-    --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n-    --post_score_length_normalization \\\"simple\\\"\\n-\\n-\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\n-    --beam_pruning_margin 1.5 \\\\\\n-    --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n-    --beam_score_length_normalization \\\"google\\\" --beam_score_length_normalization_strength 0.25 \\\\\\n-    --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n-    --post_score_length_normalization \\\"google\\\" --post_score_length_normalization_strength 0.33\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\n-    --beam_pruning_margin 1.5 \\\\\\n-    --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n-    --beam_score_length_normalization \\\"google\\\" --beam_score_length_normalization_strength 0.25 \\\\\\n-    --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n-    --post_score_length_normalization \\\"google\\\" --post_score_length_normalization_strength 0.33\\n-\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability.train.train.config --additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config --additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\n-\\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search.txt --mode beam_search --beam_width 30\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt --mode beam_search --beam_width 30\\n+# \\n+# \\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\n+# \\n+# \\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\n+#     --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n+#     --beam_score_length_normalization \\\"simple\\\" \\\\\\n+#     --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n+#     --post_score_length_normalization \\\"simple\\\"\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\n+#     --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n+#     --beam_score_length_normalization \\\"simple\\\" \\\\\\n+#     --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n+#     --post_score_length_normalization \\\"simple\\\"\\n+# \\n+# \\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\n+#     --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n+#     --beam_score_length_normalization \\\"google\\\" --beam_score_length_normalization_strength 0.25 \\\\\\n+#     --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n+#     --post_score_length_normalization \\\"google\\\" --post_score_length_normalization_strength 0.33\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\n+#     --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n+#     --beam_score_length_normalization \\\"google\\\" --beam_score_length_normalization_strength 0.25 \\\\\\n+#     --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n+#     --post_score_length_normalization \\\"google\\\" --post_score_length_normalization_strength 0.33\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability.train.train.config --additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config --additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\n+\\n+\\n+knmt eval tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config --additional_trained_model tests.tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\\n \\n # Create translations with the models using greedy search.\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_greedy_search.txt --mode translate\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt --mode translate\\n-\\n-# Remove unneeded large files.\\n-rm -rf tests/tests_data/models/result_invariability.train\\n-rm -rf tests/tests_data/models/result_invariability.train.model.best.npz.config\\n-rm -rf tests/tests_data/models/result_invariability.train.model.best_loss.npz.config\\n-rm -rf tests/tests_data/models/result_invariability.train.result.sqlite\\n-rm -rf tests/tests_data/models/result_invariability.train.model.final.npz\\n-rm -rf tests/tests_data/models/result_invariability.train.model.final.npz.config\\n-\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.result.sqlite\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz.config\\n-\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.result.sqlite\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.result.sqlite\\n-\\n-rm -rf tests/tests_data/models/result_invariability.translations.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search.txt.eval.config.json\\n-\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_greedy_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt.eval.config.json\\n-\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_greedy_search.txt --mode translate\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt --mode translate\\n+# \\n+# # Remove unneeded large files.\\n+# rm -rf tests/tests_data/models/result_invariability.train\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.best.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.best_loss.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability.train.result.sqlite\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.final.npz\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.final.npz.config\\n+# \\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.result.sqlite\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz.config\\n+# \\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.result.sqlite\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.result.sqlite\\n+# \\n+# rm -rf tests/tests_data/models/result_invariability.translations.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search.txt.eval.config.json\\n+# \\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_greedy_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt.eval.config.json\\n+# \\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\ndiff --git a/tests/suite1/result_invariability_test.py b/tests/suite1/result_invariability_test.py\\nindex 99b7f39..a3a2082 100644\\n--- a/tests/suite1/result_invariability_test.py\\n+++ b/tests/suite1/result_invariability_test.py\\n@@ -16,60 +16,62 @@ import random\\n class TestResultInvariability:\\n \\n     @pytest.mark.parametrize(\\\"model_name, variant_name, variant_options\\\", [\\n-        (\\\"result_invariability\\\", \\\"beam_search\\\",\\n-            \\\"--mode beam_search --beam_width 30\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"beam_search\\\",\\n-            \\\"--mode beam_search --beam_width 30\\\"),\\n-        (\\\"result_invariability\\\", \\\"greedy_search\\\",\\n-            \\\"--mode translate\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"greedy_search\\\",\\n-            \\\"--mode translate\\\"),\\n-        (\\\"result_invariability\\\", \\\"beam_search_and_prob_space_combination\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--prob_space_combination\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"beam_search_and_prob_space_combination\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--prob_space_combination\\\"),\\n-        (\\\"result_invariability\\\", \\\"beam_search_and_google_options_1\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--beam_pruning_margin 1.5 \\\"\\n-            \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n-            \\\"--beam_score_length_normalization simple \\\"\\n-            \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n-            \\\"--post_score_length_normalization simple\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"beam_search_and_google_options_1\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--beam_pruning_margin 1.5 \\\"\\n-            \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n-            \\\"--beam_score_length_normalization simple \\\"\\n-            \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n-            \\\"--post_score_length_normalization simple\\\"),\\n-        (\\\"result_invariability\\\", \\\"beam_search_and_google_options_2\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--beam_pruning_margin 1.5 \\\"\\n-            \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n-            \\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\"\\n-            \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n-            \\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"beam_search_and_google_options_2\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--beam_pruning_margin 1.5 \\\"\\n-            \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n-            \\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\"\\n-            \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n-            \\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\"),\\n-        (\\\"result_invariability\\\", \\\"ensemble_search\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--additional_training_config tests/tests_data/models/result_invariability.train.train.config \\\"\\n-            \\\"--additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"ensemble_search\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config \\\"\\n-            \\\"--additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\\"),\\n+        # (\\\"result_invariability\\\", \\\"beam_search\\\",\\n+        #     \\\"--mode beam_search --beam_width 30\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"beam_search\\\",\\n+        #     \\\"--mode beam_search --beam_width 30\\\"),\\n+        # (\\\"result_invariability\\\", \\\"greedy_search\\\",\\n+        #     \\\"--mode translate\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"greedy_search\\\",\\n+        #     \\\"--mode translate\\\"),\\n+        # (\\\"result_invariability\\\", \\\"beam_search_and_prob_space_combination\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--prob_space_combination\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"beam_search_and_prob_space_combination\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--prob_space_combination\\\"),\\n+        # (\\\"result_invariability\\\", \\\"beam_search_and_google_options_1\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--beam_pruning_margin 1.5 \\\"\\n+        #     \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n+        #     \\\"--beam_score_length_normalization simple \\\"\\n+        #     \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n+        #     \\\"--post_score_length_normalization simple\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"beam_search_and_google_options_1\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--beam_pruning_margin 1.5 \\\"\\n+        #     \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n+        #     \\\"--beam_score_length_normalization simple \\\"\\n+        #     \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n+        #     \\\"--post_score_length_normalization simple\\\"),\\n+        # (\\\"result_invariability\\\", \\\"beam_search_and_google_options_2\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--beam_pruning_margin 1.5 \\\"\\n+        #     \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n+        #     \\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\"\\n+        #     \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n+        #     \\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"beam_search_and_google_options_2\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--beam_pruning_margin 1.5 \\\"\\n+        #     \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n+        #     \\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\"\\n+        #     \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n+        #     \\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\"),\\n+        # (\\\"result_invariability\\\", \\\"ensemble_search\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--additional_training_config tests/tests_data/models/result_invariability.train.train.config \\\"\\n+        #     \\\"--additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"ensemble_search\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config \\\"\\n+        #     \\\"--additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\\"),\\n         (\\\"result_invariability_with_lex_prob_dict\\\", \\\"beam_search\\\",\\n             \\\"--mode beam_search --beam_width 30\\\"),\\n-        (\\\"result_invariability_untrained_with_lex_prob_dict\\\", \\\"beam_search\\\",\\n-            \\\"--mode beam_search --beam_width 30\\\"),\\n+            #\\\"--mb_size 1 --mode eval_bleu --beam_width 30 --nb_steps_ratio 1.5 --normal\\\"),\\n+            #\\\"--mode beam_search --beam_width 30 --nb_steps_ratio 1.5\\\"),\\n+        # (\\\"result_invariability_untrained_with_lex_prob_dict\\\", \\\"beam_search\\\",\\n+        #     \\\"--mode beam_search --beam_width 30\\\"),\\n     ])\\n     def test_eval_result_invariability(self, tmpdir, gpu, model_name, variant_name, variant_options):\\n         \\\"\\\"\\\"\\n@@ -88,6 +90,7 @@ class TestResultInvariability:\\n         search_file = os.path.join(\\n             str(search_eval_dir),\\n             'translations_using_{0}.txt'.format(variant_name))\\n+        # variant_options = variant_options + \\\" --ref {0}\\\".format(data_tgt_file)\\n         args_eval_search = [train_prefix + '.train.config', train_prefix + '.model.best.npz', data_src_file, search_file] + variant_options.split(' ')\\n         if gpu is not None:\\n             args_eval_search += ['--gpu', gpu]\\n@@ -97,49 +100,51 @@ class TestResultInvariability:\\n             expected_translations = f.readlines()\\n         with open(search_file) as f:\\n             actual_translations = f.readlines()\\n+        print \\\"file={0}\\\".format(os.path.join(str(test_data_dir), \\\"models/{0}.translations_using_{1}.txt\\\".format(model_name, variant_name)))\\n         print \\\"expected_translations\\\"\\n         for p in expected_translations:\\n             print p\\n+        print \\\"file={0}\\\".format(search_file)\\n         print \\\"actual_translations\\\"\\n         for p in actual_translations:\\n             print p\\n \\n         assert(actual_translations == expected_translations)\\n \\n-    @pytest.mark.parametrize(\\\"model_name, options\\\", [\\n-        (\\\"result_invariability\\\", \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\"),\\n-        (\\\"result_invariability_with_lex_prob_dict\\\", \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\"),\\n-        (\\\"result_invariability_untrained_with_lex_prob_dict\\\", \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\")\\n-    ])\\n-    def test_train_result_invariability(self, tmpdir, gpu, model_name, options):\\n-        \\\"\\\"\\\"\\n-        Train some models and check if the result is the same as the expected result.\\n-        The result should be identical.\\n-        If not, it means that a recent commit have changed the behavior of the system.\\n-        \\\"\\\"\\\"\\n+    # @pytest.mark.parametrize(\\\"model_name, options\\\", [\\n+    #     (\\\"result_invariability\\\", \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\"),\\n+    #     (\\\"result_invariability_untrained\\\", \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\"),\\n+    #     (\\\"result_invariability_with_lex_prob_dict\\\", \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\"),\\n+    #     (\\\"result_invariability_untrained_with_lex_prob_dict\\\", \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\")\\n+    # ])\\n+    # def test_train_result_invariability(self, tmpdir, gpu, model_name, options):\\n+    #     \\\"\\\"\\\"\\n+    #     Train some models and check if the result is the same as the expected result.\\n+    #     The result should be identical.\\n+    #     If not, it means that a recent commit have changed the behavior of the system.\\n+    #     \\\"\\\"\\\"\\n \\n-        seed = 1234\\n-        random.seed(seed)\\n-        np.random.seed(seed)\\n+    #     seed = 1234\\n+    #     random.seed(seed)\\n+    #     np.random.seed(seed)\\n \\n-        test_data_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), \\\"../tests_data\\\")\\n-        data_src_file = os.path.join(test_data_dir, \\\"src2.txt\\\")\\n-        data_tgt_file = os.path.join(test_data_dir, \\\"tgt2.txt\\\")\\n-        work_dir = tmpdir.mkdir(\\\"work\\\")\\n-        test_prefix = \\\"{0}/tests/tests_data/models/{1}\\\".format(str(work_dir), model_name)\\n-        ref_prefix = \\\"tests/tests_data/models/{0}\\\".format(model_name)\\n+    #     test_data_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), \\\"../tests_data\\\")\\n+    #     data_src_file = os.path.join(test_data_dir, \\\"src2.txt\\\")\\n+    #     data_tgt_file = os.path.join(test_data_dir, \\\"tgt2.txt\\\")\\n+    #     work_dir = tmpdir.mkdir(\\\"work\\\")\\n+    #     test_prefix = \\\"{0}/tests/tests_data/models/{1}\\\".format(str(work_dir), model_name)\\n+    #     ref_prefix = \\\"tests/tests_data/models/{0}\\\".format(model_name)\\n \\n-        args_make_data = [data_src_file, data_tgt_file, test_prefix + \\\"_test.data\\\"] + '--dev_src {0} --dev_tgt {1}'.format(data_src_file, data_tgt_file).split(' ')\\n-        main(arguments=[\\\"make_data\\\"] + args_make_data)\\n+    #     args_make_data = [data_src_file, data_tgt_file, test_prefix + \\\"_test.data\\\"] + '--dev_src {0} --dev_tgt {1}'.format(data_src_file, data_tgt_file).split(' ')\\n+    #     main(arguments=[\\\"make_data\\\"] + args_make_data)\\n \\n-        args_train = [test_prefix + \\\"_test.data\\\", test_prefix + \\\"_test.train\\\"] + options.split(' ')\\n-        if gpu is not None:\\n-            args_train += ['--gpu', gpu]\\n-        main(arguments=[\\\"train\\\"] + args_train)\\n+    #     args_train = [test_prefix + \\\"_test.data\\\", test_prefix + \\\"_test.train\\\"] + options.split(' ')\\n+    #     if gpu is not None:\\n+    #         args_train += ['--gpu', gpu]\\n+    #     main(arguments=[\\\"train\\\"] + args_train)\\n \\n-        with np.load(test_prefix + '_test.train.model.best.npz') as test_model_data:\\n-            with np.load(ref_prefix + '.train.model.best.npz') as ref_model_data:\\n-                assert(len(test_model_data.keys()) == len(ref_model_data.keys()))\\n-                for test_key, test_value in test_model_data.iteritems():\\n-                    np.testing.assert_array_almost_equal(test_value, ref_model_data[test_key], 5)\\n+    #     with np.load(test_prefix + '_test.train.model.best.npz') as test_model_data:\\n+    #         with np.load(ref_prefix + '.train.model.best.npz') as ref_model_data:\\n+    #             assert(len(test_model_data.keys()) == len(ref_model_data.keys()))\\n+    #             for test_key, test_value in test_model_data.iteritems():\\n+    #                 np.testing.assert_array_almost_equal(test_value, ref_model_data[test_key], 5)\\ndiff --git a/tests/tests_data/models/result_invariability.data.data.config b/tests/tests_data/models/result_invariability.data.data.config\\nindex 07fb51c..95934bd 100644\\n--- a/tests/tests_data/models/result_invariability.data.data.config\\n+++ b/tests/tests_data/models/result_invariability.data.data.config\\n@@ -60,7 +60,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -71,6 +71,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:46PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:28AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability.data.data.json.gz b/tests/tests_data/models/result_invariability.data.data.json.gz\\nindex f93e79a..96e5dbe 100644\\nBinary files a/tests/tests_data/models/result_invariability.data.data.json.gz and b/tests/tests_data/models/result_invariability.data.data.json.gz differ\\ndiff --git a/tests/tests_data/models/result_invariability.train.model.best.npz b/tests/tests_data/models/result_invariability.train.model.best.npz\\nindex 0b6983e..5fa8d99 100644\\nBinary files a/tests/tests_data/models/result_invariability.train.model.best.npz and b/tests/tests_data/models/result_invariability.train.model.best.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability.train.model.best_loss.npz b/tests/tests_data/models/result_invariability.train.model.best_loss.npz\\nindex 0b6983e..5fa8d99 100644\\nBinary files a/tests/tests_data/models/result_invariability.train.model.best_loss.npz and b/tests/tests_data/models/result_invariability.train.model.best_loss.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability.train.train.config b/tests/tests_data/models/result_invariability.train.train.config\\nindex 982322e..9932ab3 100644\\n--- a/tests/tests_data/models/result_invariability.train.train.config\\n+++ b/tests/tests_data/models/result_invariability.train.train.config\\n@@ -96,7 +96,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -107,6 +107,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:46PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:28AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.data.data.config b/tests/tests_data/models/result_invariability_untrained.data.data.config\\nindex 11eaf58..6c6ed9a 100644\\n--- a/tests/tests_data/models/result_invariability_untrained.data.data.config\\n+++ b/tests/tests_data/models/result_invariability_untrained.data.data.config\\n@@ -60,7 +60,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -71,6 +71,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:47PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:29AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.data.data.json.gz b/tests/tests_data/models/result_invariability_untrained.data.data.json.gz\\nindex 658ea4e..42043d7 100644\\nBinary files a/tests/tests_data/models/result_invariability_untrained.data.data.json.gz and b/tests/tests_data/models/result_invariability_untrained.data.data.json.gz differ\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.model.best.npz b/tests/tests_data/models/result_invariability_untrained.train.model.best.npz\\nindex 59046d8..f868a6f 100644\\nBinary files a/tests/tests_data/models/result_invariability_untrained.train.model.best.npz and b/tests/tests_data/models/result_invariability_untrained.train.model.best.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz b/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\nindex 59046d8..f868a6f 100644\\nBinary files a/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz and b/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.train.config b/tests/tests_data/models/result_invariability_untrained.train.train.config\\nindex 4dd8bee..7e02f74 100644\\n--- a/tests/tests_data/models/result_invariability_untrained.train.train.config\\n+++ b/tests/tests_data/models/result_invariability_untrained.train.train.config\\n@@ -96,7 +96,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -107,6 +107,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:47PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:29AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\\nindex 2385b91..05aaeb7 100644\\n--- a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\\n+++ b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\\n@@ -60,7 +60,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -71,6 +71,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:50PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:32AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz\\nindex 6360163..7485ea5 100644\\nBinary files a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz and b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz differ\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz\\nindex ddd983b..2c7a9ac 100644\\nBinary files a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz and b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\\nindex 535d7b3..65a4a2a 100644\\n--- a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\\n+++ b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\\n@@ -96,7 +96,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -107,6 +107,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:50PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:32AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\\nindex a7a546e..c788fce 100644\\n--- a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\\n+++ b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\\n@@ -60,7 +60,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -71,6 +71,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:48PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:30AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz\\nindex dbd320e..8a9d5b4 100644\\nBinary files a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz and b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz differ\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz\\nindex 3698e4d..cf03a58 100644\\nBinary files a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz and b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\\nindex d4f10e9..ff7360f 100644\\n--- a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\\n+++ b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\\n@@ -96,7 +96,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -107,6 +107,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:48PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:30AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\n\",\n       \"version_from\": \"git call\",\n       \"chainer\": {\n         \"version\": \"3.3.0\",\n@@ -71,6 +72,6 @@\n         \"cudnn_version\": \"unavailable\"\n       }\n     },\n-    \"creation_time\": \"05:48PM January 26, 2018\"\n+    \"creation_time\": \"01:34PM January 29, 2018\"\n   }\n }\n\\ No newline at end of file\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz\nindex dbd320e..fe04dc7 100644\nBinary files a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz and b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz differ\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz\nindex 3698e4d..2b391e9 100644\nBinary files a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz and b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz differ\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\nindex d4f10e9..bc10e82 100644\n--- a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\n+++ b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\n@@ -96,8 +96,9 @@\n     \"command_line\": \"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\",\n     \"knmt_version\": {\n       \"package_version\": \"0.9.19\",\n-      \"git\": \"cbeda5d10fc526c7426d26c56ae9fb878315b040\",\n+      \"git\": \"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\",\n       \"dirty_status\": \"dirty\",\n+      \"diff\": \"diff --git a/bin/make-result-invariability-model b/bin/make-result-invariability-model\\nindex a625198..dce3024 100755\\n--- a/bin/make-result-invariability-model\\n+++ b/bin/make-result-invariability-model\\n@@ -6,112 +6,114 @@\\n \\n GPU=\\\"$1\\\"\\n \\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\" $GPU\\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\" $GPU\\n-\\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\" $GPU\\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\" $GPU\\n+# \\n bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\" $GPU\\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\" $GPU\\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\" $GPU\\n \\n \\n-# Reduce config file sizes.\\n-for config_file in tests/tests_data/models/*.config\\n-do\\n-    sed -i '/\\\"diff\\\":/ d' $config_file\\n-done\\n+# # Reduce config file sizes.\\n+# for config_file in tests/tests_data/models/*.config\\n+# do\\n+#     sed -i '/\\\"diff\\\":/ d' $config_file\\n+# done\\n \\n \\n # Create translations with the models using beam search.\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search.txt --mode beam_search --beam_width 30\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt --mode beam_search --beam_width 30\\n-\\n-\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\n-\\n-\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\n-    --beam_pruning_margin 1.5 \\\\\\n-    --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n-    --beam_score_length_normalization \\\"simple\\\" \\\\\\n-    --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n-    --post_score_length_normalization \\\"simple\\\"\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\n-    --beam_pruning_margin 1.5 \\\\\\n-    --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n-    --beam_score_length_normalization \\\"simple\\\" \\\\\\n-    --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n-    --post_score_length_normalization \\\"simple\\\"\\n-\\n-\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\n-    --beam_pruning_margin 1.5 \\\\\\n-    --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n-    --beam_score_length_normalization \\\"google\\\" --beam_score_length_normalization_strength 0.25 \\\\\\n-    --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n-    --post_score_length_normalization \\\"google\\\" --post_score_length_normalization_strength 0.33\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\n-    --beam_pruning_margin 1.5 \\\\\\n-    --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n-    --beam_score_length_normalization \\\"google\\\" --beam_score_length_normalization_strength 0.25 \\\\\\n-    --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n-    --post_score_length_normalization \\\"google\\\" --post_score_length_normalization_strength 0.33\\n-\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability.train.train.config --additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config --additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\n-\\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search.txt --mode beam_search --beam_width 30\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt --mode beam_search --beam_width 30\\n+# \\n+# \\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\n+# \\n+# \\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\n+#     --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n+#     --beam_score_length_normalization \\\"simple\\\" \\\\\\n+#     --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n+#     --post_score_length_normalization \\\"simple\\\"\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\n+#     --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n+#     --beam_score_length_normalization \\\"simple\\\" \\\\\\n+#     --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n+#     --post_score_length_normalization \\\"simple\\\"\\n+# \\n+# \\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\n+#     --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n+#     --beam_score_length_normalization \\\"google\\\" --beam_score_length_normalization_strength 0.25 \\\\\\n+#     --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n+#     --post_score_length_normalization \\\"google\\\" --post_score_length_normalization_strength 0.33\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\n+#     --beam_score_coverage_penalty \\\"google\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\n+#     --beam_score_length_normalization \\\"google\\\" --beam_score_length_normalization_strength 0.25 \\\\\\n+#     --post_score_coverage_penalty \\\"google\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\n+#     --post_score_length_normalization \\\"google\\\" --post_score_length_normalization_strength 0.33\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability.train.train.config --additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config --additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\n+\\n+\\n+knmt eval tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config --additional_trained_model tests.tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\\n \\n # Create translations with the models using greedy search.\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_greedy_search.txt --mode translate\\n-\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt --mode translate\\n-\\n-# Remove unneeded large files.\\n-rm -rf tests/tests_data/models/result_invariability.train\\n-rm -rf tests/tests_data/models/result_invariability.train.model.best.npz.config\\n-rm -rf tests/tests_data/models/result_invariability.train.model.best_loss.npz.config\\n-rm -rf tests/tests_data/models/result_invariability.train.result.sqlite\\n-rm -rf tests/tests_data/models/result_invariability.train.model.final.npz\\n-rm -rf tests/tests_data/models/result_invariability.train.model.final.npz.config\\n-\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.result.sqlite\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz.config\\n-\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.result.sqlite\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz.config\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.result.sqlite\\n-\\n-rm -rf tests/tests_data/models/result_invariability.translations.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search.txt.eval.config.json\\n-\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_greedy_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt.eval.config.json\\n-\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_greedy_search.txt --mode translate\\n+# \\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt --mode translate\\n+# \\n+# # Remove unneeded large files.\\n+# rm -rf tests/tests_data/models/result_invariability.train\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.best.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.best_loss.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability.train.result.sqlite\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.final.npz\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.final.npz.config\\n+# \\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.result.sqlite\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz.config\\n+# \\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.result.sqlite\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz.config\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.result.sqlite\\n+# \\n+# rm -rf tests/tests_data/models/result_invariability.translations.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search.txt.eval.config.json\\n+# \\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_greedy_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt.eval.config.json\\n+# \\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\ndiff --git a/tests/suite1/result_invariability_test.py b/tests/suite1/result_invariability_test.py\\nindex 99b7f39..a3a2082 100644\\n--- a/tests/suite1/result_invariability_test.py\\n+++ b/tests/suite1/result_invariability_test.py\\n@@ -16,60 +16,62 @@ import random\\n class TestResultInvariability:\\n \\n     @pytest.mark.parametrize(\\\"model_name, variant_name, variant_options\\\", [\\n-        (\\\"result_invariability\\\", \\\"beam_search\\\",\\n-            \\\"--mode beam_search --beam_width 30\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"beam_search\\\",\\n-            \\\"--mode beam_search --beam_width 30\\\"),\\n-        (\\\"result_invariability\\\", \\\"greedy_search\\\",\\n-            \\\"--mode translate\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"greedy_search\\\",\\n-            \\\"--mode translate\\\"),\\n-        (\\\"result_invariability\\\", \\\"beam_search_and_prob_space_combination\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--prob_space_combination\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"beam_search_and_prob_space_combination\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--prob_space_combination\\\"),\\n-        (\\\"result_invariability\\\", \\\"beam_search_and_google_options_1\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--beam_pruning_margin 1.5 \\\"\\n-            \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n-            \\\"--beam_score_length_normalization simple \\\"\\n-            \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n-            \\\"--post_score_length_normalization simple\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"beam_search_and_google_options_1\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--beam_pruning_margin 1.5 \\\"\\n-            \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n-            \\\"--beam_score_length_normalization simple \\\"\\n-            \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n-            \\\"--post_score_length_normalization simple\\\"),\\n-        (\\\"result_invariability\\\", \\\"beam_search_and_google_options_2\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--beam_pruning_margin 1.5 \\\"\\n-            \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n-            \\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\"\\n-            \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n-            \\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"beam_search_and_google_options_2\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--beam_pruning_margin 1.5 \\\"\\n-            \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n-            \\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\"\\n-            \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n-            \\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\"),\\n-        (\\\"result_invariability\\\", \\\"ensemble_search\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--additional_training_config tests/tests_data/models/result_invariability.train.train.config \\\"\\n-            \\\"--additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"ensemble_search\\\",\\n-            \\\"--mode beam_search --beam_width 30 \\\"\\n-            \\\"--additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config \\\"\\n-            \\\"--additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\\"),\\n+        # (\\\"result_invariability\\\", \\\"beam_search\\\",\\n+        #     \\\"--mode beam_search --beam_width 30\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"beam_search\\\",\\n+        #     \\\"--mode beam_search --beam_width 30\\\"),\\n+        # (\\\"result_invariability\\\", \\\"greedy_search\\\",\\n+        #     \\\"--mode translate\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"greedy_search\\\",\\n+        #     \\\"--mode translate\\\"),\\n+        # (\\\"result_invariability\\\", \\\"beam_search_and_prob_space_combination\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--prob_space_combination\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"beam_search_and_prob_space_combination\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--prob_space_combination\\\"),\\n+        # (\\\"result_invariability\\\", \\\"beam_search_and_google_options_1\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--beam_pruning_margin 1.5 \\\"\\n+        #     \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n+        #     \\\"--beam_score_length_normalization simple \\\"\\n+        #     \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n+        #     \\\"--post_score_length_normalization simple\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"beam_search_and_google_options_1\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--beam_pruning_margin 1.5 \\\"\\n+        #     \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n+        #     \\\"--beam_score_length_normalization simple \\\"\\n+        #     \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n+        #     \\\"--post_score_length_normalization simple\\\"),\\n+        # (\\\"result_invariability\\\", \\\"beam_search_and_google_options_2\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--beam_pruning_margin 1.5 \\\"\\n+        #     \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n+        #     \\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\"\\n+        #     \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n+        #     \\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"beam_search_and_google_options_2\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--beam_pruning_margin 1.5 \\\"\\n+        #     \\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\"\\n+        #     \\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\"\\n+        #     \\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\"\\n+        #     \\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\"),\\n+        # (\\\"result_invariability\\\", \\\"ensemble_search\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--additional_training_config tests/tests_data/models/result_invariability.train.train.config \\\"\\n+        #     \\\"--additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\\"),\\n+        # (\\\"result_invariability_untrained\\\", \\\"ensemble_search\\\",\\n+        #     \\\"--mode beam_search --beam_width 30 \\\"\\n+        #     \\\"--additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config \\\"\\n+        #     \\\"--additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\\"),\\n         (\\\"result_invariability_with_lex_prob_dict\\\", \\\"beam_search\\\",\\n             \\\"--mode beam_search --beam_width 30\\\"),\\n-        (\\\"result_invariability_untrained_with_lex_prob_dict\\\", \\\"beam_search\\\",\\n-            \\\"--mode beam_search --beam_width 30\\\"),\\n+            #\\\"--mb_size 1 --mode eval_bleu --beam_width 30 --nb_steps_ratio 1.5 --normal\\\"),\\n+            #\\\"--mode beam_search --beam_width 30 --nb_steps_ratio 1.5\\\"),\\n+        # (\\\"result_invariability_untrained_with_lex_prob_dict\\\", \\\"beam_search\\\",\\n+        #     \\\"--mode beam_search --beam_width 30\\\"),\\n     ])\\n     def test_eval_result_invariability(self, tmpdir, gpu, model_name, variant_name, variant_options):\\n         \\\"\\\"\\\"\\n@@ -88,6 +90,7 @@ class TestResultInvariability:\\n         search_file = os.path.join(\\n             str(search_eval_dir),\\n             'translations_using_{0}.txt'.format(variant_name))\\n+        # variant_options = variant_options + \\\" --ref {0}\\\".format(data_tgt_file)\\n         args_eval_search = [train_prefix + '.train.config', train_prefix + '.model.best.npz', data_src_file, search_file] + variant_options.split(' ')\\n         if gpu is not None:\\n             args_eval_search += ['--gpu', gpu]\\n@@ -97,49 +100,51 @@ class TestResultInvariability:\\n             expected_translations = f.readlines()\\n         with open(search_file) as f:\\n             actual_translations = f.readlines()\\n+        print \\\"file={0}\\\".format(os.path.join(str(test_data_dir), \\\"models/{0}.translations_using_{1}.txt\\\".format(model_name, variant_name)))\\n         print \\\"expected_translations\\\"\\n         for p in expected_translations:\\n             print p\\n+        print \\\"file={0}\\\".format(search_file)\\n         print \\\"actual_translations\\\"\\n         for p in actual_translations:\\n             print p\\n \\n         assert(actual_translations == expected_translations)\\n \\n-    @pytest.mark.parametrize(\\\"model_name, options\\\", [\\n-        (\\\"result_invariability\\\", \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\"),\\n-        (\\\"result_invariability_untrained\\\", \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\"),\\n-        (\\\"result_invariability_with_lex_prob_dict\\\", \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\"),\\n-        (\\\"result_invariability_untrained_with_lex_prob_dict\\\", \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\")\\n-    ])\\n-    def test_train_result_invariability(self, tmpdir, gpu, model_name, options):\\n-        \\\"\\\"\\\"\\n-        Train some models and check if the result is the same as the expected result.\\n-        The result should be identical.\\n-        If not, it means that a recent commit have changed the behavior of the system.\\n-        \\\"\\\"\\\"\\n+    # @pytest.mark.parametrize(\\\"model_name, options\\\", [\\n+    #     (\\\"result_invariability\\\", \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\"),\\n+    #     (\\\"result_invariability_untrained\\\", \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\"),\\n+    #     (\\\"result_invariability_with_lex_prob_dict\\\", \\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\"),\\n+    #     (\\\"result_invariability_untrained_with_lex_prob_dict\\\", \\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\")\\n+    # ])\\n+    # def test_train_result_invariability(self, tmpdir, gpu, model_name, options):\\n+    #     \\\"\\\"\\\"\\n+    #     Train some models and check if the result is the same as the expected result.\\n+    #     The result should be identical.\\n+    #     If not, it means that a recent commit have changed the behavior of the system.\\n+    #     \\\"\\\"\\\"\\n \\n-        seed = 1234\\n-        random.seed(seed)\\n-        np.random.seed(seed)\\n+    #     seed = 1234\\n+    #     random.seed(seed)\\n+    #     np.random.seed(seed)\\n \\n-        test_data_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), \\\"../tests_data\\\")\\n-        data_src_file = os.path.join(test_data_dir, \\\"src2.txt\\\")\\n-        data_tgt_file = os.path.join(test_data_dir, \\\"tgt2.txt\\\")\\n-        work_dir = tmpdir.mkdir(\\\"work\\\")\\n-        test_prefix = \\\"{0}/tests/tests_data/models/{1}\\\".format(str(work_dir), model_name)\\n-        ref_prefix = \\\"tests/tests_data/models/{0}\\\".format(model_name)\\n+    #     test_data_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), \\\"../tests_data\\\")\\n+    #     data_src_file = os.path.join(test_data_dir, \\\"src2.txt\\\")\\n+    #     data_tgt_file = os.path.join(test_data_dir, \\\"tgt2.txt\\\")\\n+    #     work_dir = tmpdir.mkdir(\\\"work\\\")\\n+    #     test_prefix = \\\"{0}/tests/tests_data/models/{1}\\\".format(str(work_dir), model_name)\\n+    #     ref_prefix = \\\"tests/tests_data/models/{0}\\\".format(model_name)\\n \\n-        args_make_data = [data_src_file, data_tgt_file, test_prefix + \\\"_test.data\\\"] + '--dev_src {0} --dev_tgt {1}'.format(data_src_file, data_tgt_file).split(' ')\\n-        main(arguments=[\\\"make_data\\\"] + args_make_data)\\n+    #     args_make_data = [data_src_file, data_tgt_file, test_prefix + \\\"_test.data\\\"] + '--dev_src {0} --dev_tgt {1}'.format(data_src_file, data_tgt_file).split(' ')\\n+    #     main(arguments=[\\\"make_data\\\"] + args_make_data)\\n \\n-        args_train = [test_prefix + \\\"_test.data\\\", test_prefix + \\\"_test.train\\\"] + options.split(' ')\\n-        if gpu is not None:\\n-            args_train += ['--gpu', gpu]\\n-        main(arguments=[\\\"train\\\"] + args_train)\\n+    #     args_train = [test_prefix + \\\"_test.data\\\", test_prefix + \\\"_test.train\\\"] + options.split(' ')\\n+    #     if gpu is not None:\\n+    #         args_train += ['--gpu', gpu]\\n+    #     main(arguments=[\\\"train\\\"] + args_train)\\n \\n-        with np.load(test_prefix + '_test.train.model.best.npz') as test_model_data:\\n-            with np.load(ref_prefix + '.train.model.best.npz') as ref_model_data:\\n-                assert(len(test_model_data.keys()) == len(ref_model_data.keys()))\\n-                for test_key, test_value in test_model_data.iteritems():\\n-                    np.testing.assert_array_almost_equal(test_value, ref_model_data[test_key], 5)\\n+    #     with np.load(test_prefix + '_test.train.model.best.npz') as test_model_data:\\n+    #         with np.load(ref_prefix + '.train.model.best.npz') as ref_model_data:\\n+    #             assert(len(test_model_data.keys()) == len(ref_model_data.keys()))\\n+    #             for test_key, test_value in test_model_data.iteritems():\\n+    #                 np.testing.assert_array_almost_equal(test_value, ref_model_data[test_key], 5)\\ndiff --git a/tests/tests_data/models/result_invariability.data.data.config b/tests/tests_data/models/result_invariability.data.data.config\\nindex 07fb51c..95934bd 100644\\n--- a/tests/tests_data/models/result_invariability.data.data.config\\n+++ b/tests/tests_data/models/result_invariability.data.data.config\\n@@ -60,7 +60,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -71,6 +71,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:46PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:28AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability.data.data.json.gz b/tests/tests_data/models/result_invariability.data.data.json.gz\\nindex f93e79a..96e5dbe 100644\\nBinary files a/tests/tests_data/models/result_invariability.data.data.json.gz and b/tests/tests_data/models/result_invariability.data.data.json.gz differ\\ndiff --git a/tests/tests_data/models/result_invariability.train.model.best.npz b/tests/tests_data/models/result_invariability.train.model.best.npz\\nindex 0b6983e..5fa8d99 100644\\nBinary files a/tests/tests_data/models/result_invariability.train.model.best.npz and b/tests/tests_data/models/result_invariability.train.model.best.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability.train.model.best_loss.npz b/tests/tests_data/models/result_invariability.train.model.best_loss.npz\\nindex 0b6983e..5fa8d99 100644\\nBinary files a/tests/tests_data/models/result_invariability.train.model.best_loss.npz and b/tests/tests_data/models/result_invariability.train.model.best_loss.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability.train.train.config b/tests/tests_data/models/result_invariability.train.train.config\\nindex 982322e..9932ab3 100644\\n--- a/tests/tests_data/models/result_invariability.train.train.config\\n+++ b/tests/tests_data/models/result_invariability.train.train.config\\n@@ -96,7 +96,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -107,6 +107,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:46PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:28AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.data.data.config b/tests/tests_data/models/result_invariability_untrained.data.data.config\\nindex 11eaf58..6c6ed9a 100644\\n--- a/tests/tests_data/models/result_invariability_untrained.data.data.config\\n+++ b/tests/tests_data/models/result_invariability_untrained.data.data.config\\n@@ -60,7 +60,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -71,6 +71,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:47PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:29AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.data.data.json.gz b/tests/tests_data/models/result_invariability_untrained.data.data.json.gz\\nindex 658ea4e..42043d7 100644\\nBinary files a/tests/tests_data/models/result_invariability_untrained.data.data.json.gz and b/tests/tests_data/models/result_invariability_untrained.data.data.json.gz differ\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.model.best.npz b/tests/tests_data/models/result_invariability_untrained.train.model.best.npz\\nindex 59046d8..f868a6f 100644\\nBinary files a/tests/tests_data/models/result_invariability_untrained.train.model.best.npz and b/tests/tests_data/models/result_invariability_untrained.train.model.best.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz b/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\nindex 59046d8..f868a6f 100644\\nBinary files a/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz and b/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.train.config b/tests/tests_data/models/result_invariability_untrained.train.train.config\\nindex 4dd8bee..7e02f74 100644\\n--- a/tests/tests_data/models/result_invariability_untrained.train.train.config\\n+++ b/tests/tests_data/models/result_invariability_untrained.train.train.config\\n@@ -96,7 +96,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -107,6 +107,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:47PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:29AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\\nindex 2385b91..05aaeb7 100644\\n--- a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\\n+++ b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\\n@@ -60,7 +60,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -71,6 +71,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:50PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:32AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz\\nindex 6360163..7485ea5 100644\\nBinary files a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz and b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz differ\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz\\nindex ddd983b..2c7a9ac 100644\\nBinary files a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz and b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\\nindex 535d7b3..65a4a2a 100644\\n--- a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\\n+++ b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\\n@@ -96,7 +96,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -107,6 +107,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:50PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:32AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\\nindex a7a546e..8ed2395 100644\\n--- a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\\n+++ b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\\n@@ -60,8 +60,9 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n+      \\\"diff\\\": \\\"diff --git a/bin/make-result-invariability-model b/bin/make-result-invariability-model\\\\nindex a625198..dce3024 100755\\\\n--- a/bin/make-result-invariability-model\\\\n+++ b/bin/make-result-invariability-model\\\\n@@ -6,112 +6,114 @@\\\\n \\\\n GPU=\\\\\\\"$1\\\\\\\"\\\\n \\\\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability \\\\\\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\" $GPU\\\\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained \\\\\\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\" $GPU\\\\n-\\\\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability \\\\\\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\" $GPU\\\\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained \\\\\\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\" $GPU\\\\n+# \\\\n bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict \\\\\\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\" $GPU\\\\n-bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict \\\\\\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\" $GPU\\\\n+# bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict \\\\\\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\" $GPU\\\\n \\\\n \\\\n-# Reduce config file sizes.\\\\n-for config_file in tests/tests_data/models/*.config\\\\n-do\\\\n-    sed -i '/\\\\\\\"diff\\\\\\\":/ d' $config_file\\\\n-done\\\\n+# # Reduce config file sizes.\\\\n+# for config_file in tests/tests_data/models/*.config\\\\n+# do\\\\n+#     sed -i '/\\\\\\\"diff\\\\\\\":/ d' $config_file\\\\n+# done\\\\n \\\\n \\\\n # Create translations with the models using beam search.\\\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search.txt --mode beam_search --beam_width 30\\\\n-\\\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt --mode beam_search --beam_width 30\\\\n-\\\\n-\\\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\\\n-\\\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\\\n-\\\\n-\\\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\\\\\\\n-    --beam_pruning_margin 1.5 \\\\\\\\\\\\n-    --beam_score_coverage_penalty \\\\\\\"google\\\\\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\\\\\\\n-    --beam_score_length_normalization \\\\\\\"simple\\\\\\\" \\\\\\\\\\\\n-    --post_score_coverage_penalty \\\\\\\"google\\\\\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\\\\\\\n-    --post_score_length_normalization \\\\\\\"simple\\\\\\\"\\\\n-\\\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\\\\\\\n-    --beam_pruning_margin 1.5 \\\\\\\\\\\\n-    --beam_score_coverage_penalty \\\\\\\"google\\\\\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\\\\\\\n-    --beam_score_length_normalization \\\\\\\"simple\\\\\\\" \\\\\\\\\\\\n-    --post_score_coverage_penalty \\\\\\\"google\\\\\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\\\\\\\n-    --post_score_length_normalization \\\\\\\"simple\\\\\\\"\\\\n-\\\\n-\\\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\\\\\\\n-    --beam_pruning_margin 1.5 \\\\\\\\\\\\n-    --beam_score_coverage_penalty \\\\\\\"google\\\\\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\\\\\\\n-    --beam_score_length_normalization \\\\\\\"google\\\\\\\" --beam_score_length_normalization_strength 0.25 \\\\\\\\\\\\n-    --post_score_coverage_penalty \\\\\\\"google\\\\\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\\\\\\\n-    --post_score_length_normalization \\\\\\\"google\\\\\\\" --post_score_length_normalization_strength 0.33\\\\n-\\\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\\\\\\\n-    --beam_pruning_margin 1.5 \\\\\\\\\\\\n-    --beam_score_coverage_penalty \\\\\\\"google\\\\\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\\\\\\\n-    --beam_score_length_normalization \\\\\\\"google\\\\\\\" --beam_score_length_normalization_strength 0.25 \\\\\\\\\\\\n-    --post_score_coverage_penalty \\\\\\\"google\\\\\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\\\\\\\n-    --post_score_length_normalization \\\\\\\"google\\\\\\\" --post_score_length_normalization_strength 0.33\\\\n-\\\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability.train.train.config --additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\\\n-\\\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config --additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\\\n-\\\\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search.txt --mode beam_search --beam_width 30\\\\n+# \\\\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt --mode beam_search --beam_width 30\\\\n+# \\\\n+# \\\\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\\\n+# \\\\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt --mode beam_search --beam_width 30 --prob_space_combination\\\\n+# \\\\n+# \\\\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\\\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\\\\\\\n+#     --beam_score_coverage_penalty \\\\\\\"google\\\\\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\\\\\\\n+#     --beam_score_length_normalization \\\\\\\"simple\\\\\\\" \\\\\\\\\\\\n+#     --post_score_coverage_penalty \\\\\\\"google\\\\\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\\\\\\\n+#     --post_score_length_normalization \\\\\\\"simple\\\\\\\"\\\\n+# \\\\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt --mode beam_search --beam_width 30 \\\\\\\\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\\\\\\\n+#     --beam_score_coverage_penalty \\\\\\\"google\\\\\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\\\\\\\n+#     --beam_score_length_normalization \\\\\\\"simple\\\\\\\" \\\\\\\\\\\\n+#     --post_score_coverage_penalty \\\\\\\"google\\\\\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\\\\\\\n+#     --post_score_length_normalization \\\\\\\"simple\\\\\\\"\\\\n+# \\\\n+# \\\\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\\\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\\\\\\\n+#     --beam_score_coverage_penalty \\\\\\\"google\\\\\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\\\\\\\n+#     --beam_score_length_normalization \\\\\\\"google\\\\\\\" --beam_score_length_normalization_strength 0.25 \\\\\\\\\\\\n+#     --post_score_coverage_penalty \\\\\\\"google\\\\\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\\\\\\\n+#     --post_score_length_normalization \\\\\\\"google\\\\\\\" --post_score_length_normalization_strength 0.33\\\\n+# \\\\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt --mode beam_search --beam_width 30 \\\\\\\\\\\\n+#     --beam_pruning_margin 1.5 \\\\\\\\\\\\n+#     --beam_score_coverage_penalty \\\\\\\"google\\\\\\\" --beam_score_coverage_penalty_strength 0.3 \\\\\\\\\\\\n+#     --beam_score_length_normalization \\\\\\\"google\\\\\\\" --beam_score_length_normalization_strength 0.25 \\\\\\\\\\\\n+#     --post_score_coverage_penalty \\\\\\\"google\\\\\\\" --post_score_coverage_penalty_strength 0.4 \\\\\\\\\\\\n+#     --post_score_length_normalization \\\\\\\"google\\\\\\\" --post_score_length_normalization_strength 0.33\\\\n+# \\\\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability.train.train.config --additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\\\n+# \\\\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config --additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\\\n+\\\\n+\\\\n+knmt eval tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt --mode beam_search --beam_width 30 --additional_training_config tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config --additional_trained_model tests.tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\\\\n \\\\n # Create translations with the models using greedy search.\\\\n-knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_greedy_search.txt --mode translate\\\\n-\\\\n-knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt --mode translate\\\\n-\\\\n-# Remove unneeded large files.\\\\n-rm -rf tests/tests_data/models/result_invariability.train\\\\n-rm -rf tests/tests_data/models/result_invariability.train.model.best.npz.config\\\\n-rm -rf tests/tests_data/models/result_invariability.train.model.best_loss.npz.config\\\\n-rm -rf tests/tests_data/models/result_invariability.train.result.sqlite\\\\n-rm -rf tests/tests_data/models/result_invariability.train.model.final.npz\\\\n-rm -rf tests/tests_data/models/result_invariability.train.model.final.npz.config\\\\n-\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best.npz.config\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz.config\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.result.sqlite\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz.config\\\\n-\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz.config\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz.config\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.result.sqlite\\\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz.config\\\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz.config\\\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\\\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.result.sqlite\\\\n-\\\\n-rm -rf tests/tests_data/models/result_invariability.translations.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search.txt.eval.config.json\\\\n-\\\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability.translations_using_greedy_search.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt.eval.config.json\\\\n-\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\\\n-rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\\\n+# knmt eval tests/tests_data/models/result_invariability.train.train.config tests/tests_data/models/result_invariability.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability.translations_using_greedy_search.txt --mode translate\\\\n+# \\\\n+# knmt eval tests/tests_data/models/result_invariability_untrained.train.train.config tests/tests_data/models/result_invariability_untrained.train.model.best.npz tests/tests_data/src2.txt tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt --mode translate\\\\n+# \\\\n+# # Remove unneeded large files.\\\\n+# rm -rf tests/tests_data/models/result_invariability.train\\\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.best.npz.config\\\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.best_loss.npz.config\\\\n+# rm -rf tests/tests_data/models/result_invariability.train.result.sqlite\\\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.final.npz\\\\n+# rm -rf tests/tests_data/models/result_invariability.train.model.final.npz.config\\\\n+# \\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best.npz.config\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz.config\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.result.sqlite\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.train.model.final.npz.config\\\\n+# \\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz.config\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz.config\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best_loss.npz\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.result.sqlite\\\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz.config\\\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz.config\\\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best_loss.npz\\\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.train.result.sqlite\\\\n+# \\\\n+# rm -rf tests/tests_data/models/result_invariability.translations.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search.txt.eval.config.json\\\\n+# \\\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_ensemble_search.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability.translations_using_greedy_search.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_1.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_google_options_2.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_beam_search_and_prob_space_combination.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_ensemble_search.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained.translations_using_greedy_search.txt.eval.config.json\\\\n+# \\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.eval.init.config.json\\\\n+# rm -rf tests/tests_data/models/result_invariability_with_lex_prob_dict.translations_using_beam_search.txt.unprocessed\\\\ndiff --git a/tests/suite1/result_invariability_test.py b/tests/suite1/result_invariability_test.py\\\\nindex 99b7f39..a3a2082 100644\\\\n--- a/tests/suite1/result_invariability_test.py\\\\n+++ b/tests/suite1/result_invariability_test.py\\\\n@@ -16,60 +16,62 @@ import random\\\\n class TestResultInvariability:\\\\n \\\\n     @pytest.mark.parametrize(\\\\\\\"model_name, variant_name, variant_options\\\\\\\", [\\\\n-        (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"beam_search\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"beam_search\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"greedy_search\\\\\\\",\\\\n-            \\\\\\\"--mode translate\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"greedy_search\\\\\\\",\\\\n-            \\\\\\\"--mode translate\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"beam_search_and_prob_space_combination\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n-            \\\\\\\"--prob_space_combination\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"beam_search_and_prob_space_combination\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n-            \\\\\\\"--prob_space_combination\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"beam_search_and_google_options_1\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n-            \\\\\\\"--beam_pruning_margin 1.5 \\\\\\\"\\\\n-            \\\\\\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\\\\\"\\\\n-            \\\\\\\"--beam_score_length_normalization simple \\\\\\\"\\\\n-            \\\\\\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\\\\\"\\\\n-            \\\\\\\"--post_score_length_normalization simple\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"beam_search_and_google_options_1\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n-            \\\\\\\"--beam_pruning_margin 1.5 \\\\\\\"\\\\n-            \\\\\\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\\\\\"\\\\n-            \\\\\\\"--beam_score_length_normalization simple \\\\\\\"\\\\n-            \\\\\\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\\\\\"\\\\n-            \\\\\\\"--post_score_length_normalization simple\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"beam_search_and_google_options_2\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n-            \\\\\\\"--beam_pruning_margin 1.5 \\\\\\\"\\\\n-            \\\\\\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\\\\\"\\\\n-            \\\\\\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\\\\\"\\\\n-            \\\\\\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\\\\\"\\\\n-            \\\\\\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"beam_search_and_google_options_2\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n-            \\\\\\\"--beam_pruning_margin 1.5 \\\\\\\"\\\\n-            \\\\\\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\\\\\"\\\\n-            \\\\\\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\\\\\"\\\\n-            \\\\\\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\\\\\"\\\\n-            \\\\\\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"ensemble_search\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n-            \\\\\\\"--additional_training_config tests/tests_data/models/result_invariability.train.train.config \\\\\\\"\\\\n-            \\\\\\\"--additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"ensemble_search\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n-            \\\\\\\"--additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config \\\\\\\"\\\\n-            \\\\\\\"--additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"beam_search\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"beam_search\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"greedy_search\\\\\\\",\\\\n+        #     \\\\\\\"--mode translate\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"greedy_search\\\\\\\",\\\\n+        #     \\\\\\\"--mode translate\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"beam_search_and_prob_space_combination\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n+        #     \\\\\\\"--prob_space_combination\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"beam_search_and_prob_space_combination\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n+        #     \\\\\\\"--prob_space_combination\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"beam_search_and_google_options_1\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_pruning_margin 1.5 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_score_length_normalization simple \\\\\\\"\\\\n+        #     \\\\\\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\\\\\"\\\\n+        #     \\\\\\\"--post_score_length_normalization simple\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"beam_search_and_google_options_1\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_pruning_margin 1.5 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_score_length_normalization simple \\\\\\\"\\\\n+        #     \\\\\\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\\\\\"\\\\n+        #     \\\\\\\"--post_score_length_normalization simple\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"beam_search_and_google_options_2\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_pruning_margin 1.5 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\\\\\"\\\\n+        #     \\\\\\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\\\\\"\\\\n+        #     \\\\\\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"beam_search_and_google_options_2\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_pruning_margin 1.5 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_score_coverage_penalty google --beam_score_coverage_penalty_strength 0.3 \\\\\\\"\\\\n+        #     \\\\\\\"--beam_score_length_normalization google --beam_score_length_normalization_strength 0.25 \\\\\\\"\\\\n+        #     \\\\\\\"--post_score_coverage_penalty google --post_score_coverage_penalty_strength 0.4 \\\\\\\"\\\\n+        #     \\\\\\\"--post_score_length_normalization google --post_score_length_normalization_strength 0.33\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"ensemble_search\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n+        #     \\\\\\\"--additional_training_config tests/tests_data/models/result_invariability.train.train.config \\\\\\\"\\\\n+        #     \\\\\\\"--additional_trained_model tests/tests_data/models/result_invariability.train.model.best_loss.npz\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"ensemble_search\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30 \\\\\\\"\\\\n+        #     \\\\\\\"--additional_training_config tests/tests_data/models/result_invariability_untrained.train.train.config \\\\\\\"\\\\n+        #     \\\\\\\"--additional_trained_model tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\\\\\\"),\\\\n         (\\\\\\\"result_invariability_with_lex_prob_dict\\\\\\\", \\\\\\\"beam_search\\\\\\\",\\\\n             \\\\\\\"--mode beam_search --beam_width 30\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability_untrained_with_lex_prob_dict\\\\\\\", \\\\\\\"beam_search\\\\\\\",\\\\n-            \\\\\\\"--mode beam_search --beam_width 30\\\\\\\"),\\\\n+            #\\\\\\\"--mb_size 1 --mode eval_bleu --beam_width 30 --nb_steps_ratio 1.5 --normal\\\\\\\"),\\\\n+            #\\\\\\\"--mode beam_search --beam_width 30 --nb_steps_ratio 1.5\\\\\\\"),\\\\n+        # (\\\\\\\"result_invariability_untrained_with_lex_prob_dict\\\\\\\", \\\\\\\"beam_search\\\\\\\",\\\\n+        #     \\\\\\\"--mode beam_search --beam_width 30\\\\\\\"),\\\\n     ])\\\\n     def test_eval_result_invariability(self, tmpdir, gpu, model_name, variant_name, variant_options):\\\\n         \\\\\\\"\\\\\\\"\\\\\\\"\\\\n@@ -88,6 +90,7 @@ class TestResultInvariability:\\\\n         search_file = os.path.join(\\\\n             str(search_eval_dir),\\\\n             'translations_using_{0}.txt'.format(variant_name))\\\\n+        # variant_options = variant_options + \\\\\\\" --ref {0}\\\\\\\".format(data_tgt_file)\\\\n         args_eval_search = [train_prefix + '.train.config', train_prefix + '.model.best.npz', data_src_file, search_file] + variant_options.split(' ')\\\\n         if gpu is not None:\\\\n             args_eval_search += ['--gpu', gpu]\\\\n@@ -97,49 +100,51 @@ class TestResultInvariability:\\\\n             expected_translations = f.readlines()\\\\n         with open(search_file) as f:\\\\n             actual_translations = f.readlines()\\\\n+        print \\\\\\\"file={0}\\\\\\\".format(os.path.join(str(test_data_dir), \\\\\\\"models/{0}.translations_using_{1}.txt\\\\\\\".format(model_name, variant_name)))\\\\n         print \\\\\\\"expected_translations\\\\\\\"\\\\n         for p in expected_translations:\\\\n             print p\\\\n+        print \\\\\\\"file={0}\\\\\\\".format(search_file)\\\\n         print \\\\\\\"actual_translations\\\\\\\"\\\\n         for p in actual_translations:\\\\n             print p\\\\n \\\\n         assert(actual_translations == expected_translations)\\\\n \\\\n-    @pytest.mark.parametrize(\\\\\\\"model_name, options\\\\\\\", [\\\\n-        (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability_with_lex_prob_dict\\\\\\\", \\\\\\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\"),\\\\n-        (\\\\\\\"result_invariability_untrained_with_lex_prob_dict\\\\\\\", \\\\\\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\")\\\\n-    ])\\\\n-    def test_train_result_invariability(self, tmpdir, gpu, model_name, options):\\\\n-        \\\\\\\"\\\\\\\"\\\\\\\"\\\\n-        Train some models and check if the result is the same as the expected result.\\\\n-        The result should be identical.\\\\n-        If not, it means that a recent commit have changed the behavior of the system.\\\\n-        \\\\\\\"\\\\\\\"\\\\\\\"\\\\n+    # @pytest.mark.parametrize(\\\\\\\"model_name, options\\\\\\\", [\\\\n+    #     (\\\\\\\"result_invariability\\\\\\\", \\\\\\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\"),\\\\n+    #     (\\\\\\\"result_invariability_untrained\\\\\\\", \\\\\\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\"),\\\\n+    #     (\\\\\\\"result_invariability_with_lex_prob_dict\\\\\\\", \\\\\\\"--max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\"),\\\\n+    #     (\\\\\\\"result_invariability_untrained_with_lex_prob_dict\\\\\\\", \\\\\\\"--max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\")\\\\n+    # ])\\\\n+    # def test_train_result_invariability(self, tmpdir, gpu, model_name, options):\\\\n+    #     \\\\\\\"\\\\\\\"\\\\\\\"\\\\n+    #     Train some models and check if the result is the same as the expected result.\\\\n+    #     The result should be identical.\\\\n+    #     If not, it means that a recent commit have changed the behavior of the system.\\\\n+    #     \\\\\\\"\\\\\\\"\\\\\\\"\\\\n \\\\n-        seed = 1234\\\\n-        random.seed(seed)\\\\n-        np.random.seed(seed)\\\\n+    #     seed = 1234\\\\n+    #     random.seed(seed)\\\\n+    #     np.random.seed(seed)\\\\n \\\\n-        test_data_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), \\\\\\\"../tests_data\\\\\\\")\\\\n-        data_src_file = os.path.join(test_data_dir, \\\\\\\"src2.txt\\\\\\\")\\\\n-        data_tgt_file = os.path.join(test_data_dir, \\\\\\\"tgt2.txt\\\\\\\")\\\\n-        work_dir = tmpdir.mkdir(\\\\\\\"work\\\\\\\")\\\\n-        test_prefix = \\\\\\\"{0}/tests/tests_data/models/{1}\\\\\\\".format(str(work_dir), model_name)\\\\n-        ref_prefix = \\\\\\\"tests/tests_data/models/{0}\\\\\\\".format(model_name)\\\\n+    #     test_data_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), \\\\\\\"../tests_data\\\\\\\")\\\\n+    #     data_src_file = os.path.join(test_data_dir, \\\\\\\"src2.txt\\\\\\\")\\\\n+    #     data_tgt_file = os.path.join(test_data_dir, \\\\\\\"tgt2.txt\\\\\\\")\\\\n+    #     work_dir = tmpdir.mkdir(\\\\\\\"work\\\\\\\")\\\\n+    #     test_prefix = \\\\\\\"{0}/tests/tests_data/models/{1}\\\\\\\".format(str(work_dir), model_name)\\\\n+    #     ref_prefix = \\\\\\\"tests/tests_data/models/{0}\\\\\\\".format(model_name)\\\\n \\\\n-        args_make_data = [data_src_file, data_tgt_file, test_prefix + \\\\\\\"_test.data\\\\\\\"] + '--dev_src {0} --dev_tgt {1}'.format(data_src_file, data_tgt_file).split(' ')\\\\n-        main(arguments=[\\\\\\\"make_data\\\\\\\"] + args_make_data)\\\\n+    #     args_make_data = [data_src_file, data_tgt_file, test_prefix + \\\\\\\"_test.data\\\\\\\"] + '--dev_src {0} --dev_tgt {1}'.format(data_src_file, data_tgt_file).split(' ')\\\\n+    #     main(arguments=[\\\\\\\"make_data\\\\\\\"] + args_make_data)\\\\n \\\\n-        args_train = [test_prefix + \\\\\\\"_test.data\\\\\\\", test_prefix + \\\\\\\"_test.train\\\\\\\"] + options.split(' ')\\\\n-        if gpu is not None:\\\\n-            args_train += ['--gpu', gpu]\\\\n-        main(arguments=[\\\\\\\"train\\\\\\\"] + args_train)\\\\n+    #     args_train = [test_prefix + \\\\\\\"_test.data\\\\\\\", test_prefix + \\\\\\\"_test.train\\\\\\\"] + options.split(' ')\\\\n+    #     if gpu is not None:\\\\n+    #         args_train += ['--gpu', gpu]\\\\n+    #     main(arguments=[\\\\\\\"train\\\\\\\"] + args_train)\\\\n \\\\n-        with np.load(test_prefix + '_test.train.model.best.npz') as test_model_data:\\\\n-            with np.load(ref_prefix + '.train.model.best.npz') as ref_model_data:\\\\n-                assert(len(test_model_data.keys()) == len(ref_model_data.keys()))\\\\n-                for test_key, test_value in test_model_data.iteritems():\\\\n-                    np.testing.assert_array_almost_equal(test_value, ref_model_data[test_key], 5)\\\\n+    #     with np.load(test_prefix + '_test.train.model.best.npz') as test_model_data:\\\\n+    #         with np.load(ref_prefix + '.train.model.best.npz') as ref_model_data:\\\\n+    #             assert(len(test_model_data.keys()) == len(ref_model_data.keys()))\\\\n+    #             for test_key, test_value in test_model_data.iteritems():\\\\n+    #                 np.testing.assert_array_almost_equal(test_value, ref_model_data[test_key], 5)\\\\ndiff --git a/tests/tests_data/models/result_invariability.data.data.config b/tests/tests_data/models/result_invariability.data.data.config\\\\nindex 07fb51c..95934bd 100644\\\\n--- a/tests/tests_data/models/result_invariability.data.data.config\\\\n+++ b/tests/tests_data/models/result_invariability.data.data.config\\\\n@@ -60,7 +60,7 @@\\\\n     \\\\\\\"command_line\\\\\\\": \\\\\\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\",\\\\n     \\\\\\\"knmt_version\\\\\\\": {\\\\n       \\\\\\\"package_version\\\\\\\": \\\\\\\"0.9.19\\\\\\\",\\\\n-      \\\\\\\"git\\\\\\\": \\\\\\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\\\\\",\\\\n+      \\\\\\\"git\\\\\\\": \\\\\\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\\\\\",\\\\n       \\\\\\\"dirty_status\\\\\\\": \\\\\\\"dirty\\\\\\\",\\\\n       \\\\\\\"version_from\\\\\\\": \\\\\\\"git call\\\\\\\",\\\\n       \\\\\\\"chainer\\\\\\\": {\\\\n@@ -71,6 +71,6 @@\\\\n         \\\\\\\"cudnn_version\\\\\\\": \\\\\\\"unavailable\\\\\\\"\\\\n       }\\\\n     },\\\\n-    \\\\\\\"creation_time\\\\\\\": \\\\\\\"05:46PM January 26, 2018\\\\\\\"\\\\n+    \\\\\\\"creation_time\\\\\\\": \\\\\\\"10:28AM January 29, 2018\\\\\\\"\\\\n   }\\\\n }\\\\n\\\\\\\\ No newline at end of file\\\\ndiff --git a/tests/tests_data/models/result_invariability.data.data.json.gz b/tests/tests_data/models/result_invariability.data.data.json.gz\\\\nindex f93e79a..96e5dbe 100644\\\\nBinary files a/tests/tests_data/models/result_invariability.data.data.json.gz and b/tests/tests_data/models/result_invariability.data.data.json.gz differ\\\\ndiff --git a/tests/tests_data/models/result_invariability.train.model.best.npz b/tests/tests_data/models/result_invariability.train.model.best.npz\\\\nindex 0b6983e..5fa8d99 100644\\\\nBinary files a/tests/tests_data/models/result_invariability.train.model.best.npz and b/tests/tests_data/models/result_invariability.train.model.best.npz differ\\\\ndiff --git a/tests/tests_data/models/result_invariability.train.model.best_loss.npz b/tests/tests_data/models/result_invariability.train.model.best_loss.npz\\\\nindex 0b6983e..5fa8d99 100644\\\\nBinary files a/tests/tests_data/models/result_invariability.train.model.best_loss.npz and b/tests/tests_data/models/result_invariability.train.model.best_loss.npz differ\\\\ndiff --git a/tests/tests_data/models/result_invariability.train.train.config b/tests/tests_data/models/result_invariability.train.train.config\\\\nindex 982322e..9932ab3 100644\\\\n--- a/tests/tests_data/models/result_invariability.train.train.config\\\\n+++ b/tests/tests_data/models/result_invariability.train.train.config\\\\n@@ -96,7 +96,7 @@\\\\n     \\\\\\\"command_line\\\\\\\": \\\\\\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\",\\\\n     \\\\\\\"knmt_version\\\\\\\": {\\\\n       \\\\\\\"package_version\\\\\\\": \\\\\\\"0.9.19\\\\\\\",\\\\n-      \\\\\\\"git\\\\\\\": \\\\\\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\\\\\",\\\\n+      \\\\\\\"git\\\\\\\": \\\\\\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\\\\\",\\\\n       \\\\\\\"dirty_status\\\\\\\": \\\\\\\"dirty\\\\\\\",\\\\n       \\\\\\\"version_from\\\\\\\": \\\\\\\"git call\\\\\\\",\\\\n       \\\\\\\"chainer\\\\\\\": {\\\\n@@ -107,6 +107,6 @@\\\\n         \\\\\\\"cudnn_version\\\\\\\": \\\\\\\"unavailable\\\\\\\"\\\\n       }\\\\n     },\\\\n-    \\\\\\\"creation_time\\\\\\\": \\\\\\\"05:46PM January 26, 2018\\\\\\\"\\\\n+    \\\\\\\"creation_time\\\\\\\": \\\\\\\"10:28AM January 29, 2018\\\\\\\"\\\\n   }\\\\n }\\\\n\\\\\\\\ No newline at end of file\\\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.data.data.config b/tests/tests_data/models/result_invariability_untrained.data.data.config\\\\nindex 11eaf58..6c6ed9a 100644\\\\n--- a/tests/tests_data/models/result_invariability_untrained.data.data.config\\\\n+++ b/tests/tests_data/models/result_invariability_untrained.data.data.config\\\\n@@ -60,7 +60,7 @@\\\\n     \\\\\\\"command_line\\\\\\\": \\\\\\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\",\\\\n     \\\\\\\"knmt_version\\\\\\\": {\\\\n       \\\\\\\"package_version\\\\\\\": \\\\\\\"0.9.19\\\\\\\",\\\\n-      \\\\\\\"git\\\\\\\": \\\\\\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\\\\\",\\\\n+      \\\\\\\"git\\\\\\\": \\\\\\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\\\\\",\\\\n       \\\\\\\"dirty_status\\\\\\\": \\\\\\\"dirty\\\\\\\",\\\\n       \\\\\\\"version_from\\\\\\\": \\\\\\\"git call\\\\\\\",\\\\n       \\\\\\\"chainer\\\\\\\": {\\\\n@@ -71,6 +71,6 @@\\\\n         \\\\\\\"cudnn_version\\\\\\\": \\\\\\\"unavailable\\\\\\\"\\\\n       }\\\\n     },\\\\n-    \\\\\\\"creation_time\\\\\\\": \\\\\\\"05:47PM January 26, 2018\\\\\\\"\\\\n+    \\\\\\\"creation_time\\\\\\\": \\\\\\\"10:29AM January 29, 2018\\\\\\\"\\\\n   }\\\\n }\\\\n\\\\\\\\ No newline at end of file\\\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.data.data.json.gz b/tests/tests_data/models/result_invariability_untrained.data.data.json.gz\\\\nindex 658ea4e..42043d7 100644\\\\nBinary files a/tests/tests_data/models/result_invariability_untrained.data.data.json.gz and b/tests/tests_data/models/result_invariability_untrained.data.data.json.gz differ\\\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.model.best.npz b/tests/tests_data/models/result_invariability_untrained.train.model.best.npz\\\\nindex 59046d8..f868a6f 100644\\\\nBinary files a/tests/tests_data/models/result_invariability_untrained.train.model.best.npz and b/tests/tests_data/models/result_invariability_untrained.train.model.best.npz differ\\\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz b/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz\\\\nindex 59046d8..f868a6f 100644\\\\nBinary files a/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz and b/tests/tests_data/models/result_invariability_untrained.train.model.best_loss.npz differ\\\\ndiff --git a/tests/tests_data/models/result_invariability_untrained.train.train.config b/tests/tests_data/models/result_invariability_untrained.train.train.config\\\\nindex 4dd8bee..7e02f74 100644\\\\n--- a/tests/tests_data/models/result_invariability_untrained.train.train.config\\\\n+++ b/tests/tests_data/models/result_invariability_untrained.train.train.config\\\\n@@ -96,7 +96,7 @@\\\\n     \\\\\\\"command_line\\\\\\\": \\\\\\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12\\\\\\\",\\\\n     \\\\\\\"knmt_version\\\\\\\": {\\\\n       \\\\\\\"package_version\\\\\\\": \\\\\\\"0.9.19\\\\\\\",\\\\n-      \\\\\\\"git\\\\\\\": \\\\\\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\\\\\",\\\\n+      \\\\\\\"git\\\\\\\": \\\\\\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\\\\\",\\\\n       \\\\\\\"dirty_status\\\\\\\": \\\\\\\"dirty\\\\\\\",\\\\n       \\\\\\\"version_from\\\\\\\": \\\\\\\"git call\\\\\\\",\\\\n       \\\\\\\"chainer\\\\\\\": {\\\\n@@ -107,6 +107,6 @@\\\\n         \\\\\\\"cudnn_version\\\\\\\": \\\\\\\"unavailable\\\\\\\"\\\\n       }\\\\n     },\\\\n-    \\\\\\\"creation_time\\\\\\\": \\\\\\\"05:47PM January 26, 2018\\\\\\\"\\\\n+    \\\\\\\"creation_time\\\\\\\": \\\\\\\"10:29AM January 29, 2018\\\\\\\"\\\\n   }\\\\n }\\\\n\\\\\\\\ No newline at end of file\\\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\\\\nindex 2385b91..05aaeb7 100644\\\\n--- a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\\\\n+++ b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.config\\\\n@@ -60,7 +60,7 @@\\\\n     \\\\\\\"command_line\\\\\\\": \\\\\\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\",\\\\n     \\\\\\\"knmt_version\\\\\\\": {\\\\n       \\\\\\\"package_version\\\\\\\": \\\\\\\"0.9.19\\\\\\\",\\\\n-      \\\\\\\"git\\\\\\\": \\\\\\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\\\\\",\\\\n+      \\\\\\\"git\\\\\\\": \\\\\\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\\\\\",\\\\n       \\\\\\\"dirty_status\\\\\\\": \\\\\\\"dirty\\\\\\\",\\\\n       \\\\\\\"version_from\\\\\\\": \\\\\\\"git call\\\\\\\",\\\\n       \\\\\\\"chainer\\\\\\\": {\\\\n@@ -71,6 +71,6 @@\\\\n         \\\\\\\"cudnn_version\\\\\\\": \\\\\\\"unavailable\\\\\\\"\\\\n       }\\\\n     },\\\\n-    \\\\\\\"creation_time\\\\\\\": \\\\\\\"05:50PM January 26, 2018\\\\\\\"\\\\n+    \\\\\\\"creation_time\\\\\\\": \\\\\\\"10:32AM January 29, 2018\\\\\\\"\\\\n   }\\\\n }\\\\n\\\\\\\\ No newline at end of file\\\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz\\\\nindex 6360163..7485ea5 100644\\\\nBinary files a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz and b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.data.data.json.gz differ\\\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz\\\\nindex ddd983b..2c7a9ac 100644\\\\nBinary files a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz and b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.model.best.npz differ\\\\ndiff --git a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\\\\nindex 535d7b3..65a4a2a 100644\\\\n--- a/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\\\\n+++ b/tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict.train.train.config\\\\n@@ -96,7 +96,7 @@\\\\n     \\\\\\\"command_line\\\\\\\": \\\\\\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_untrained_with_lex_prob_dict --max_nb_iters 800 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\",\\\\n     \\\\\\\"knmt_version\\\\\\\": {\\\\n       \\\\\\\"package_version\\\\\\\": \\\\\\\"0.9.19\\\\\\\",\\\\n-      \\\\\\\"git\\\\\\\": \\\\\\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\\\\\",\\\\n+      \\\\\\\"git\\\\\\\": \\\\\\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\\\\\",\\\\n       \\\\\\\"dirty_status\\\\\\\": \\\\\\\"dirty\\\\\\\",\\\\n       \\\\\\\"version_from\\\\\\\": \\\\\\\"git call\\\\\\\",\\\\n       \\\\\\\"chainer\\\\\\\": {\\\\n@@ -107,6 +107,6 @@\\\\n         \\\\\\\"cudnn_version\\\\\\\": \\\\\\\"unavailable\\\\\\\"\\\\n       }\\\\n     },\\\\n-    \\\\\\\"creation_time\\\\\\\": \\\\\\\"05:50PM January 26, 2018\\\\\\\"\\\\n+    \\\\\\\"creation_time\\\\\\\": \\\\\\\"10:32AM January 29, 2018\\\\\\\"\\\\n   }\\\\n }\\\\n\\\\\\\\ No newline at end of file\\\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\\\\nindex a7a546e..c788fce 100644\\\\n--- a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\\\\n+++ b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.config\\\\n@@ -60,7 +60,7 @@\\\\n     \\\\\\\"command_line\\\\\\\": \\\\\\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\",\\\\n     \\\\\\\"knmt_version\\\\\\\": {\\\\n       \\\\\\\"package_version\\\\\\\": \\\\\\\"0.9.19\\\\\\\",\\\\n-      \\\\\\\"git\\\\\\\": \\\\\\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\\\\\",\\\\n+      \\\\\\\"git\\\\\\\": \\\\\\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\\\\\",\\\\n       \\\\\\\"dirty_status\\\\\\\": \\\\\\\"dirty\\\\\\\",\\\\n       \\\\\\\"version_from\\\\\\\": \\\\\\\"git call\\\\\\\",\\\\n       \\\\\\\"chainer\\\\\\\": {\\\\n@@ -71,6 +71,6 @@\\\\n         \\\\\\\"cudnn_version\\\\\\\": \\\\\\\"unavailable\\\\\\\"\\\\n       }\\\\n     },\\\\n-    \\\\\\\"creation_time\\\\\\\": \\\\\\\"05:48PM January 26, 2018\\\\\\\"\\\\n+    \\\\\\\"creation_time\\\\\\\": \\\\\\\"10:30AM January 29, 2018\\\\\\\"\\\\n   }\\\\n }\\\\n\\\\\\\\ No newline at end of file\\\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz\\\\nindex dbd320e..8a9d5b4 100644\\\\nBinary files a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz and b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz differ\\\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz\\\\nindex 3698e4d..cf03a58 100644\\\\nBinary files a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz and b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz differ\\\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\\\\nindex d4f10e9..ff7360f 100644\\\\n--- a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\\\\n+++ b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\\\\n@@ -96,7 +96,7 @@\\\\n     \\\\\\\"command_line\\\\\\\": \\\\\\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\\\\\",\\\\n     \\\\\\\"knmt_version\\\\\\\": {\\\\n       \\\\\\\"package_version\\\\\\\": \\\\\\\"0.9.19\\\\\\\",\\\\n-      \\\\\\\"git\\\\\\\": \\\\\\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\\\\\",\\\\n+      \\\\\\\"git\\\\\\\": \\\\\\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\\\\\",\\\\n       \\\\\\\"dirty_status\\\\\\\": \\\\\\\"dirty\\\\\\\",\\\\n       \\\\\\\"version_from\\\\\\\": \\\\\\\"git call\\\\\\\",\\\\n       \\\\\\\"chainer\\\\\\\": {\\\\n@@ -107,6 +107,6 @@\\\\n         \\\\\\\"cudnn_version\\\\\\\": \\\\\\\"unavailable\\\\\\\"\\\\n       }\\\\n     },\\\\n-    \\\\\\\"creation_time\\\\\\\": \\\\\\\"05:48PM January 26, 2018\\\\\\\"\\\\n+    \\\\\\\"creation_time\\\\\\\": \\\\\\\"10:30AM January 29, 2018\\\\\\\"\\\\n   }\\\\n }\\\\n\\\\\\\\ No newline at end of file\\\\n\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n         \\\"version\\\": \\\"3.3.0\\\",\\n@@ -71,6 +72,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:48PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"01:34PM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz\\nindex dbd320e..fe04dc7 100644\\nBinary files a/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz and b/tests/tests_data/models/result_invariability_with_lex_prob_dict.data.data.json.gz differ\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz\\nindex 3698e4d..cf03a58 100644\\nBinary files a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz and b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.model.best.npz differ\\ndiff --git a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\\nindex d4f10e9..ff7360f 100644\\n--- a/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\\n+++ b/tests/tests_data/models/result_invariability_with_lex_prob_dict.train.train.config\\n@@ -96,7 +96,7 @@\\n     \\\"command_line\\\": \\\"bin/make-and-train-result-invariability-model 1234 tests/tests_data/src2.txt tests/tests_data/tgt2.txt tests/tests_data/models/result_invariability_with_lex_prob_dict --max_nb_iters 2000 --mb_size 2 --Ei 5 --Eo 12 --Hi 6 --Ha 70 --Ho 15 --Hl 12 --lexical_probability_dictionary tests/tests_data/lexical_prob_dict.json.gz\\\",\\n     \\\"knmt_version\\\": {\\n       \\\"package_version\\\": \\\"0.9.19\\\",\\n-      \\\"git\\\": \\\"cbeda5d10fc526c7426d26c56ae9fb878315b040\\\",\\n+      \\\"git\\\": \\\"5ffa2d84c10ff80a1cf3bfe6fc153c657c23fe67\\\",\\n       \\\"dirty_status\\\": \\\"dirty\\\",\\n       \\\"version_from\\\": \\\"git call\\\",\\n       \\\"chainer\\\": {\\n@@ -107,6 +107,6 @@\\n         \\\"cudnn_version\\\": \\\"unavailable\\\"\\n       }\\n     },\\n-    \\\"creation_time\\\": \\\"05:48PM January 26, 2018\\\"\\n+    \\\"creation_time\\\": \\\"10:30AM January 29, 2018\\\"\\n   }\\n }\\n\\\\ No newline at end of file\\n\",\n       \"version_from\": \"git call\",\n       \"chainer\": {\n         \"version\": \"3.3.0\",\n@@ -107,6 +108,6 @@\n         \"cudnn_version\": \"unavailable\"\n       }\n     },\n-    \"creation_time\": \"05:48PM January 26, 2018\"\n+    \"creation_time\": \"01:34PM January 29, 2018\"\n   }\n }\n\\ No newline at end of file\n",
      "version_from": "git call",
      "chainer": {
        "version": "3.3.0",
        "cuda": false,
        "cudnn": false,
        "cuda_version": "unavailable",
        "cudnn_version": "unavailable"
      }
    },
    "creation_time": "01:38PM January 29, 2018"
  }
}