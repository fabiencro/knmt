python generate_multilingual_bpe_data.py --train_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.en hi:ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.ta --dev_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.en hi:ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.ta --test_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.en hi:ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.ta --balance_vocab_counts True --balance_corpora True --save_prefix /windroot/raj/parallel_corpora_normalized/general/ --num_bpe_merge_operations 32000

python make_data.py /windroot/raj/parallel_corpora_normalized/general/mlnmt.train.src /windroot/raj/parallel_corpora_normalized/general/mlnmt.train.tgt /windroot/raj/parallel_corpora_normalized/general/mlnmt.3s2t --src_voc_size 33000 --tgt_voc_size 33000 --test_src /windroot/raj/parallel_corpora_normalized/general/mlnmt.test.src --test_tgt /windroot/raj/parallel_corpora_normalized/general/mlnmt.test.tgt --dev_src /windroot/raj/parallel_corpora_normalized/general/mlnmt.dev.src --dev_tgt /windroot/raj/parallel_corpora_normalized/general/mlnmt.dev.tgt


python train.py /windroot/raj/parallel_corpora_normalized/general/mlnmt.3s2t /windroot/raj/parallel_corpora_normalized/general/mlnmt.3s2t.trial --gpu 0 --Ei 100 --Eo 100 --Hi 200 --Ho 200 --Ha 200 --Hl 200 --mb_size 64 --weight_decay 0.000001 --is_multitarget --postprocess

python train.py /windroot/raj/parallel_corpora_normalized/general/mlnmt.3s2t /windroot/raj/parallel_corpora_normalized/general/mlnmt.3s2t.trial --gpu 2 --mb_size 80 --weight_decay 0.000001 --postprocess


--Ei 310 --Eo 310 --Hi 500 --Ho 500 --Ha 500 --Hl 250


python generate_multilingual_bpe_data.py --train_lang_corpora_pairs src:tgt:/tmp/train.src:/tmp/train.tgt --dev_lang_corpora_pairs src:tgt:/tmp/tun.src.raw:/tmp/tun.tgt --balance_vocab_counts True --balance_corpora True --save_prefix /tmp/ --num_bpe_merge_operations 32000

python make_data.py /tmp/mlnmt.train.src /tmp/mlnmt.train.tgt /tmp/mlnmt.3s2t --src_voc_size 33000 --tgt_voc_size 33000 --test_src /tmp/mlnmt.test.src --test_tgt /tmp/mlnmt.test.tgt --dev_src /tmp/mlnmt.dev.src --dev_tgt /tmp/mlnmt.dev.tgt

python train.py /tmp/mlnmt.3s2t /tmp/mlnmt.3s2t.trial --gpu 1 --mb_size 64 --weight_decay 0.000001 --is_multitarget --postprocess



## CHU's commands (B103, GPU1)

python /home/chu/work/knmt/nmt_chainer/train.py /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/mlnmt.2s2t /loquat/raj/mlnmt.2s2t.trial --gpu 1 --optimizer adam \
        --weight_decay 0.000001 --l2_gradient_clipping 1 --mb_size 32 --max_src_tgt_length 80 \
        --encoder_cell_type dlstm --decoder_cell_type dlstm \
        --postprocess --is_multitarget


cd /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/postprocess && \
        python /home/chu/work/knmt/nmt_chainer/eval.py mlnmt.2s2t.trial.train.config mlnmt.2s2t.trial.model.ckpt.npz ../mlnmt.test.src mlnmt.test.ja.self_ensemble \
        --additional_training_config mlnmt.2s2t.trial.train.config mlnmt.2s2t.trial.train.config \
        --additional_trained_model mlnmt.2s2t.trial.model.best.npz mlnmt.2s2t.trial.model.best_loss.npz \
        --gpu 1 --mode eval_bleu --beam_width 100 --nb_steps_ratio 1.5 --dic /loquat/chu/nmt-experiments/ASPEC-CJ/treebank/baseline+5000/dic_c_j.json --ref ../mlnmt.test.tgt

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.en hi:ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.ta --dev_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.en hi:ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.ta --test_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.en hi:ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.ta --balance_vocab_counts True --balance_corpora True --save_prefix /tmp/ --max_src_vocab 32000 --max_tgt_vocab 32000 --joint_bpe_model True

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.en hi:ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.ta --dev_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.en hi:ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.ta --test_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.en hi:ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.ta --balance_vocab_counts True --balance_corpora True --save_prefix /tmp/ --max_src_vocab 32000 --max_tgt_vocab 32000 --joint_bpe_model False


python make_data.py /tmp/mlnmt.train.src /tmp/mlnmt.train.tgt /tmp/mlnmt.basic --src_voc_size 33000 --tgt_voc_size 33000 --test_src /tmp/mlnmt.test.src --test_tgt /tmp/mlnmt.test.tgt --dev_src /tmp/mlnmt.dev.src --dev_tgt /tmp/mlnmt.dev.tgt

########1s5t

for i in bn en mr ta te
do
echo -n "hi:"$i":/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/train."$i" "
done

for i in bn en mr ta te
do
echo -n "hi:"$i":/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/tun."$i" "
done

for i in bn en mr ta te
do
echo -n "hi:"$i":/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/test."$i" "
done

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/train.bn hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/train.en hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/train.mr hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/train.ta hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/train.te --dev_lang_corpora_pairs hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/tun.bn hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/tun.en hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/tun.mr hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/tun.ta hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/tun.te --test_lang_corpora_pairs hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/test.bn hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/test.en hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/test.mr hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/test.ta hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/test.te --balance_vocab_counts True --balance_corpora True --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t/ --num_bpe_merge_operations 80000

python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t/mlnmt.basic --src_voc_size 33000 --tgt_voc_size 33000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t/mlnmt.dev.tgt


python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --is_multitarget --postprocess


python generate_multilingual_bpe_data.py --train_lang_corpora_pairs hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/train.bn hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/train.en hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/train.mr hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/train.ta hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/train.te --dev_lang_corpora_pairs hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/tun.bn hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/tun.en hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/tun.mr hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/tun.ta hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/tun.te --test_lang_corpora_pairs hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/test.bn hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/test.en hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/test.mr hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/test.ta hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/test.te --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000

python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.dev.tgt


python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --is_multitarget --postprocess

for i in en mr ta te
do
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/"$i"_test_beam_12 /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/ $i 12 20
done

##### Individual LPS

for i in bn en mr ta te
do
echo "mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs hi:$i:/windroot/raj/parallel_corpora_normalized/general/hi-$i/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-$i/train.$i --dev_lang_corpora_pairs hi:$i:/windroot/raj/parallel_corpora_normalized/general/hi-$i/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-$i/tun.$i --test_lang_corpora_pairs hi:$i:/windroot/raj/parallel_corpora_normalized/general/hi-$i/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-$i/test.$i --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.dev.tgt
python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000"
echo ""
done


mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/train.bn --dev_lang_corpora_pairs hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/tun.bn --test_lang_corpora_pairs hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/test.bn --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/mlnmt.dev.tgt

mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/train.en --dev_lang_corpora_pairs hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/tun.en --test_lang_corpora_pairs hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/test.en --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/mlnmt.dev.tgt

mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/train.mr --dev_lang_corpora_pairs hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/tun.mr --test_lang_corpora_pairs hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/test.mr --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/mlnmt.dev.tgt

mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/train.ta --dev_lang_corpora_pairs hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/tun.ta --test_lang_corpora_pairs hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/test.ta --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/mlnmt.dev.tgt

mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/train.te --dev_lang_corpora_pairs hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/tun.te --test_lang_corpora_pairs hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/test.te --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/mlnmt.dev.tgt

for i in en mr ta te
do
python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000
done

python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_bn_fewer/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000
python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_en_fewer/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000
python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_mr_fewer/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000
python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_ta_fewer/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000
python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_te_fewer/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000


for i in en mr ta te
do
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/test_beam_12 /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/ None 12 20
done

########5s1t

for i in bn en mr ta te
do
echo -n ""$i":hi:/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/train."$i":/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/train.hi "
done

for i in bn en mr ta te
do
echo -n ""$i":hi:/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/tun."$i":/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/tun.hi " 
done

for i in bn en mr ta te
do
echo -n ""$i":hi:/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/test."$i":/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/test.hi "
done


python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/train.hi en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.hi mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.hi ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.hi te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/tun.hi en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.hi mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.hi ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.hi te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/test.hi en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.hi mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.hi ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.hi te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/test.hi --balance_vocab_counts True --balance_corpora True --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t --num_bpe_merge_operations 80000


python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t/mlnmt.basic --src_voc_size 33000 --tgt_voc_size 33000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t/mlnmt.dev.tgt


python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --is_multitarget --postprocess


python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/train.hi en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.hi mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.hi ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.hi te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/tun.hi en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.hi mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.hi ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.hi te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/test.hi en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.hi mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.hi ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.hi te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer --max_src_vocab 32000 --max_tgt_vocab 32000


python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.dev.tgt


python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --is_multitarget --postprocess


for i in en mr ta te
do
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/"$i"_test_beam_12 /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/ None 12 20
done

##### Individual LPS

for i in bn en mr ta te
do
echo "mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":hi:/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/train."$i":/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/train.hi --dev_lang_corpora_pairs "$i":hi:/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/tun."$i":/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/tun.hi --test_lang_corpora_pairs "$i":hi:/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/test."$i":/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.dev.tgt
python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess"
echo ""
done

for i in bn en mr ta te
do
python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.basic --gpu 2 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 20000
done

python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/mlnmt.basic --gpu 2 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 40000

python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/mlnmt.basic --gpu 2 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 40000

python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/mlnmt.basic --gpu 2 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 40000

python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/mlnmt.basic --gpu 2 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 40000

python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/mlnmt.basic --gpu 2 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 40000


for i in en mr ta te
do
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/test_beam_12 /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/ None 12 20
done


mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_bn_hi_fewer/mlnmt.dev.tgt

mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.hi --dev_lang_corpora_pairs en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.hi --test_lang_corpora_pairs en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_en_hi_fewer/mlnmt.dev.tgt

mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.hi --dev_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.hi --test_lang_corpora_pairs mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_mr_hi_fewer/mlnmt.dev.tgt

mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.hi --dev_lang_corpora_pairs ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.hi --test_lang_corpora_pairs ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_ta_hi_fewer/mlnmt.dev.tgt

mkdir /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/train.hi --dev_lang_corpora_pairs te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/tun.hi --test_lang_corpora_pairs te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/ --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_te_hi_fewer/mlnmt.dev.tgt


########5s5t


for i in bn en mr ta te
do
echo -n ""$i":hi:/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/train."$i":/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/train.hi "
echo -n "hi:"$i":/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/train."$i" "
done

for i in bn en mr ta te
do
echo -n ""$i":hi:/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/tun."$i":/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/tun.hi " 
echo -n "hi:"$i":/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/tun."$i" "
done

for i in bn en mr ta te
do
echo -n ""$i":hi:/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/test."$i":/windroot/raj/parallel_corpora_normalized/general/"$i"-hi/test.hi "
echo -n "hi:"$i":/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-"$i"/test."$i" "
done


python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/train.hi hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/train.bn en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/train.en mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.hi hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/train.mr ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.hi hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/train.ta te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/train.hi hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/train.te --dev_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/tun.hi hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/tun.bn en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/tun.en mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.hi hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/tun.mr ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.hi hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/tun.ta te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/tun.hi hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/tun.te --test_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/test.hi hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/test.bn en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/test.en mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.hi hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/test.mr ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.hi hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/test.ta te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/test.hi hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/test.te --balance_vocab_counts True --balance_corpora True --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t --num_bpe_merge_operations 80000


python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/train.hi hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/train.bn en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/train.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/train.en mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/train.hi hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/train.mr ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/train.hi hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/train.ta te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/train.hi hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/train.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/train.te --dev_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/tun.hi hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/tun.bn en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/tun.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/tun.en mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/tun.hi hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/tun.mr ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/tun.hi hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/tun.ta te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/tun.hi hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/tun.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/tun.te --test_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/parallel_corpora_normalized/general/bn-hi/test.hi hi:bn:/windroot/raj/parallel_corpora_normalized/general/hi-bn/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-bn/test.bn en:hi:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/parallel_corpora_normalized/general/en-hi/test.hi hi:en:/windroot/raj/parallel_corpora_normalized/general/hi-en/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-en/test.en mr:hi:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/parallel_corpora_normalized/general/mr-hi/test.hi hi:mr:/windroot/raj/parallel_corpora_normalized/general/hi-mr/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-mr/test.mr ta:hi:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/parallel_corpora_normalized/general/ta-hi/test.hi hi:ta:/windroot/raj/parallel_corpora_normalized/general/hi-ta/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-ta/test.ta te:hi:/windroot/raj/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/parallel_corpora_normalized/general/te-hi/test.hi hi:te:/windroot/raj/parallel_corpora_normalized/general/hi-te/test.hi:/windroot/raj/parallel_corpora_normalized/general/hi-te/test.te --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer --max_src_vocab 32000 --max_tgt_vocab 32000

python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t/mlnmt.basic --src_voc_size 33000 --tgt_voc_size 33000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t/mlnmt.dev.tgt


python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --is_multitarget --postprocess

python make_data.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.train.src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.train.tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.test.src --test_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.test.tgt --dev_src /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.dev.src --dev_tgt /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.dev.tgt

python train.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.basic /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --is_multitarget --postprocess


for i in en mr ta te
do
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/test_beam_12 /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/ None 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/test_beam_12 /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/ None 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/"$i"_test_beam_12 /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/ None 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/"$i"_test_beam_12 /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/ $i 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/hi_"$i"_test_beam_12 /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/ $i 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/"$i"_hi_test_beam_12 /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/ hi
done


for i in bn en mr ta te
do
echo 1s1t_hi_"$i"
python /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/bleu_computer.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/test_beam_12/src-shard.trans.unk_replaced.restored.merged
echo 1s1t_"$i"_hi_fewer
python /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/bleu_computer.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/test_beam_12/src-shard.trans.unk_replaced.restored.merged
echo 5s1t_fewer/"$i"
python /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/bleu_computer.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/"$i"_test_beam_12/src-shard.trans.unk_replaced.restored.merged
echo 1s5t_fewer/"$i"
python /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/bleu_computer.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s5t_fewer/"$i"_test_beam_12/src-shard.trans.unk_replaced.restored.merged
echo 5s5t_fewer/hi_"$i"
python /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/bleu_computer.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_hi_"$i"_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/hi_"$i"_test_beam_12/src-shard.trans.unk_replaced.restored.merged
echo 5s5t_fewer/"$i"_hi
python /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/bleu_computer.py /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/1s1t_"$i"_hi_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s5t_fewer/"$i"_hi_test_beam_12/src-shard.trans.unk_replaced.restored.merged
done >> /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/all_results


########## Multisource








########## IWSLT experiments


for i in ar cs de fr
do
echo "mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en.en --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en.en.txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.dev.tgt
python train.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess"
echo ""
done


mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs ar:en:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/train.tags.ar-en.ar:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/train.tags.ar-en.en --dev_lang_corpora_pairs ar:en:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.dev2010.ar-en.ar.txt:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.dev2010.ar-en.en.txt --test_lang_corpora_pairs ar:en:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2010.ar-en.ar.txt:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2010.ar-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.dev.tgt




mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s1t_cs_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs cs:en:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/train.tags.cs-en.cs:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/train.tags.cs-en.en --dev_lang_corpora_pairs cs:en:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.dev2010.cs-en.cs.txt:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.dev2010.cs-en.en.txt --test_lang_corpora_pairs cs:en:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.tst2010.cs-en.cs.txt:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.tst2010.cs-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s1t_cs_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_cs_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_cs_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_cs_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_cs_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_cs_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_cs_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_cs_en/mlnmt.dev.tgt

mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s1t_de_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/train.tags.de-en.de:/windroot/raj/corpora_downloads/IWSLT2016/de-en/train.tags.de-en.en --dev_lang_corpora_pairs de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.dev2010.de-en.de.txt:/windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.dev2010.de-en.en.txt --test_lang_corpora_pairs de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2010.de-en.de.txt:/windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2010.de-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s1t_de_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_de_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_de_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_de_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_de_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_de_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_de_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_de_en/mlnmt.dev.tgt

mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s1t_fr_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/train.tags.fr-en.fr:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/train.tags.fr-en.en --dev_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.dev2010.fr-en.fr.txt:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.dev2010.fr-en.en.txt --test_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2010.fr-en.fr.txt:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2010.fr-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s1t_fr_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_fr_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_fr_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_fr_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_fr_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_fr_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_fr_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_fr_en/mlnmt.dev.tgt


for i in ar cs de fr
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.basic --gpu 0 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 50000 --max_src_tgt_length 100
done




python eval.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.basic.config /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.basic.model.ckpt.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.test.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_ar_en/mlnmt.test.ja.beam_search --mode eval_bleu --beam_width 12 --nb_steps_ratio 1.5 --ref mlnmt.test.tgt


for i in ar cs de fr
do
echo "mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i"."$i" --dev_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i"."$i".txt --test_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i"."$i".txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i" --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.dev.tgt"
echo ""
done


mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_ar
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs en:ar:/windroot/raj/corpora_downloads/IWSLT2016/en-ar/train.tags.en-ar.en:/windroot/raj/corpora_downloads/IWSLT2016/en-ar/train.tags.en-ar.ar --dev_lang_corpora_pairs en:ar:/windroot/raj/corpora_downloads/IWSLT2016/en-ar/IWSLT16.TED.dev2010.en-ar.en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-ar/IWSLT16.TED.dev2010.en-ar.ar.txt --test_lang_corpora_pairs en:ar:/windroot/raj/corpora_downloads/IWSLT2016/en-ar/IWSLT16.TED.tst2010.en-ar.en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-ar/IWSLT16.TED.tst2010.en-ar.ar.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_ar --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_ar/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_ar/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_ar/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_ar/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_ar/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_ar/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_ar/mlnmt.dev.tgt

mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_cs
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs en:cs:/windroot/raj/corpora_downloads/IWSLT2016/en-cs/train.tags.en-cs.en:/windroot/raj/corpora_downloads/IWSLT2016/en-cs/train.tags.en-cs.cs --dev_lang_corpora_pairs en:cs:/windroot/raj/corpora_downloads/IWSLT2016/en-cs/IWSLT16.TED.dev2010.en-cs.en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-cs/IWSLT16.TED.dev2010.en-cs.cs.txt --test_lang_corpora_pairs en:cs:/windroot/raj/corpora_downloads/IWSLT2016/en-cs/IWSLT16.TED.tst2010.en-cs.en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-cs/IWSLT16.TED.tst2010.en-cs.cs.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_cs --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_cs/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_cs/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_cs/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_cs/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_cs/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_cs/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_cs/mlnmt.dev.tgt

mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_de
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs en:de:/windroot/raj/corpora_downloads/IWSLT2016/en-de/train.tags.en-de.en:/windroot/raj/corpora_downloads/IWSLT2016/en-de/train.tags.en-de.de --dev_lang_corpora_pairs en:de:/windroot/raj/corpora_downloads/IWSLT2016/en-de/IWSLT16.TED.dev2010.en-de.en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-de/IWSLT16.TED.dev2010.en-de.de.txt --test_lang_corpora_pairs en:de:/windroot/raj/corpora_downloads/IWSLT2016/en-de/IWSLT16.TED.tst2010.en-de.en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-de/IWSLT16.TED.tst2010.en-de.de.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_de --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_de/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_de/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_de/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_de/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_de/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_de/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_de/mlnmt.dev.tgt

mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_fr
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs en:fr:/windroot/raj/corpora_downloads/IWSLT2016/en-fr/train.tags.en-fr.en:/windroot/raj/corpora_downloads/IWSLT2016/en-fr/train.tags.en-fr.fr --dev_lang_corpora_pairs en:fr:/windroot/raj/corpora_downloads/IWSLT2016/en-fr/IWSLT16.TED.dev2010.en-fr.en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-fr/IWSLT16.TED.dev2010.en-fr.fr.txt --test_lang_corpora_pairs en:fr:/windroot/raj/corpora_downloads/IWSLT2016/en-fr/IWSLT16.TED.tst2010.en-fr.en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-fr/IWSLT16.TED.tst2010.en-fr.fr.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_fr --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_fr/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_fr/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_fr/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_fr/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_fr/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_fr/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_fr/mlnmt.dev.tgt


for i in ar cs de fr
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 50000 --max_src_tgt_length 100
done



for i in ar cs de fr
do
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/ None 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/ None 12 20
done



#### 2 source 1 target

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j 12 20
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en.en "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en."$j":/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en.en --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en.en.txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.dev.tgt
fi
done
done

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j 12 20
python train.py /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 100000 --max_src_tgt_length 100
fi
done
done


langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/"$i"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/ None 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/"$j"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/2s1t_"$i"_"$j"_en/ None 12 20
done
done

#### 1 source 2 target

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j 12 20
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i"."$i" en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j"."$j" --dev_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j"."$j".txt --test_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j"."$j".txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j" --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.dev.tgt
fi
done
done

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j 12 20
python train.py /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 100000 --max_src_tgt_length 100
fi
done
done


langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/en_"$i"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/ $i 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/en_"$j"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s2t_en_"$i"_"$j"/ $j 12 20
done
done

#### 3 source 1 target

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
echo $i $j $k 12 20
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en.en "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en."$j":/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en.en "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/train.tags."$k"-en."$k":/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/train.tags."$k"-en.en --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en.en.txt "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.dev2010."$k"-en."$k".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.dev2010."$k"-en.en.txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en.en.txt "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.tst2010."$k"-en."$k".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.tst2010."$k"-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.dev.tgt
done
done
done

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
echo $i $j $k 12 20
python train.py /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 100000 --max_src_tgt_length 100
done
done
done


langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
echo $i $j $k 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/"$i"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/ None 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/"$j"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/ None 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/"$k"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$k"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$k"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/3s1t_"$i"_"$j"_"$k"_en/ None 12 20
done
done
done

#### 1 source 3 target

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
echo $i $j $k 12 20
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i"."$i" en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j"."$j" en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/train.tags.en-"$k".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/train.tags.en-"$k"."$k" --dev_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j"."$j".txt en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.dev2010.en-"$k".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.dev2010.en-"$k"."$k".txt --test_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j"."$j".txt en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.tst2010.en-"$k".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.tst2010.en-"$k"."$k".txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k" --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.dev.tgt
done
done
done

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
echo $i $j $k 12 20
python train.py /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.basic --gpu 0 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 70000 --max_src_tgt_length 90
done
done
done


langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
echo $i $j $k 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/en_"$i"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/ $i 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/en_"$j"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/ $j 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/en_"$k"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$k"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$k"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s3t_en_"$i"_"$j"_"$k"/ $k 12 20
done
done
done

### 4 source 1 target

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
nextnextnext=`echo $z+1 | bc`
for a in `seq $nextnextnext 4`
do
l=$langs[$a]
echo $i $j $k $l 12 20
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en.en "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en."$j":/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en.en "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/train.tags."$k"-en."$k":/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/train.tags."$k"-en.en "$l":en:/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/train.tags."$l"-en."$l":/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/train.tags."$l"-en.en --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en.en.txt "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.dev2010."$k"-en."$k".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.dev2010."$k"-en.en.txt "$l":en:/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/IWSLT16.TED.dev2010."$l"-en."$l".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/IWSLT16.TED.dev2010."$l"-en.en.txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en.en.txt "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.tst2010."$k"-en."$k".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.tst2010."$k"-en.en.txt "$l":en:/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/IWSLT16.TED.tst2010."$l"-en."$l".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/IWSLT16.TED.tst2010."$l"-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.dev.tgt
done
done
done
done

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
nextnextnext=`echo $z+1 | bc`
for a in `seq $nextnextnext 4`
do
l=$langs[$a]
echo $i $j $k $l 12 20
python train.py /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 100000 --max_src_tgt_length 90
done
done
done
done

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
nextnextnext=`echo $z+1 | bc`
for a in `seq $nextnextnext 4`
do
l=$langs[$a]
echo $i $j $k $l 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/"$i"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/ None 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/"$j"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/ None 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/"$k"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$k"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$k"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/ None 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/"$l"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$l"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$l"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/4s1t_"$i"_"$j"_"$k"_"$l"_en/ None 12 20
done
done
done
done

### 1 source 4 target

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
nextnextnext=`echo $z+1 | bc`
for a in `seq $nextnextnext 4`
do
l=$langs[$a]
echo $i $j $k $l 12 20
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i"."$i" en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j"."$j" en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/train.tags.en-"$k".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/train.tags.en-"$k"."$k" en:"$l":/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/train.tags.en-"$l".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/train.tags.en-"$l"."$l" --dev_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j"."$j".txt en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.dev2010.en-"$k".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.dev2010.en-"$k"."$k".txt en:"$l":/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/IWSLT16.TED.dev2010.en-"$l".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/IWSLT16.TED.dev2010.en-"$l"."$l".txt --test_lang_corpora_pairs en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j"."$j".txt en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.tst2010.en-"$k".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.tst2010.en-"$k"."$k".txt en:"$l":/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/IWSLT16.TED.tst2010.en-"$l".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/IWSLT16.TED.tst2010.en-"$l"."$l".txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l" --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.dev.tgt
done
done
done
done

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
nextnextnext=`echo $z+1 | bc`
for a in `seq $nextnextnext 4`
do
l=$langs[$a]
echo $i $j $k $l 12 20
python train.py /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 100000 --max_src_tgt_length 90
done
done
done
done


langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
nextnextnext=`echo $z+1 | bc`
for a in `seq $nextnextnext 4`
do
l=$langs[$a]
echo $i $j $k $l 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/en_"$i"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/ $i 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/en_"$j"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/ $j 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/en_"$k"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$k"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$k"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/ $k 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/en_"$l"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$l"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$l"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/1s4t_en_"$i"_"$j"_"$k"_"$l"/ $l 12 20
done
done
done
done

### 2 source 2 target

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
echo $i en
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en.en en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i"."$i" --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en.en.txt en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i"."$i".txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en.en.txt en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i"."$i".txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.dev.tgt
done

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
echo $i en
python train.py /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.basic --gpu 1 --mb_size 32 --weight_decay 0.000001 --postprocess --max_nb_iters 100000 --max_src_tgt_length 100
done

langs=(ar cs de fr)
for x in `seq 1 4`
do
i=$langs[$x]
echo $i en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/"$i"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/ en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/en_"$i"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/2s2t_"$i"_en/ $i 12 20
done

### 3 source 3 target


langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j 12 20
if [[ $i != "ar" ]] && [[ $j != "cs" ]]
then
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en.en "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en."$j":/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en.en en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i"."$i" en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j"."$j" --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en.en.txt en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j"."$j".txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en.en.txt en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j"."$j".txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.dev.tgt
fi
python train.py /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic --gpu 0 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 120000 --max_src_tgt_length 90
fi
done
done

langs=(ar cs de fr)

for x in `seq 1 3`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 3`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j 12 20
python train.py /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic --gpu 0 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 120000 --max_src_tgt_length 90
fi
done
done



langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/"$i"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/ en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/en_"$i"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/ $i 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/"$j"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/ en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/en_"$j"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/3s3t_"$i"_"$j"_en/ $j 12 20
fi
done
done


### 4 source 4 target

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
echo $i $j $k 12 20
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en.en "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en."$j":/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en.en "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/train.tags."$k"-en."$k":/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/train.tags."$k"-en.en en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i"."$i" en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j"."$j" en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/train.tags.en-"$k".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/train.tags.en-"$k"."$k" --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en.en.txt "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.dev2010."$k"-en."$k".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.dev2010."$k"-en.en.txt en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j"."$j".txt en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.dev2010.en-"$k".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.dev2010.en-"$k"."$k".txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en.en.txt "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.tst2010."$k"-en."$k".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.tst2010."$k"-en.en.txt en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j"."$j".txt en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.tst2010.en-"$k".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.tst2010.en-"$k"."$k".txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k" --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.dev.tgt
python train.py /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 150000 --max_src_tgt_length 90
done
done
done


langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
if [[ $j == de ]] && [[ $k == fr ]]
then
echo $i $j $k 12 20
python train.py /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 150000 --max_src_tgt_length 90
fi
done
done
done



langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
echo $i $j $k 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/"$i"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/ en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/en_"$i"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/ $i 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/"$j"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/ en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/en_"$j"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/ $j 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/"$k"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$k"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$k"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/ en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/en_"$k"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$k"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$k"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/4s4t_en_"$i"_"$j"_"$k"/ $k 12 20
done
done
done

### 5 source 5 target

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
nextnextnext=`echo $z+1 | bc`
for a in `seq $nextnextnext 4`
do
l=$langs[$a]
echo $i $j $k $l 12 20
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/train.tags."$i"-en.en "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en."$j":/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/train.tags."$j"-en.en "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/train.tags."$k"-en."$k":/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/train.tags."$k"-en.en "$l":en:/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/train.tags."$l"-en."$l":/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/train.tags."$l"-en.en en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/train.tags.en-"$i"."$i" en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/train.tags.en-"$j"."$j" en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/train.tags.en-"$k".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/train.tags.en-"$k"."$k" en:"$l":/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/train.tags.en-"$l".en:/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/train.tags.en-"$l"."$l" --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.dev2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.dev2010."$j"-en.en.txt "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.dev2010."$k"-en."$k".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.dev2010."$k"-en.en.txt "$l":en:/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/IWSLT16.TED.dev2010."$l"-en."$l".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/IWSLT16.TED.dev2010."$l"-en.en.txt en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.dev2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.dev2010.en-"$j"."$j".txt en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.dev2010.en-"$k".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.dev2010.en-"$k"."$k".txt en:"$l":/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/IWSLT16.TED.dev2010.en-"$l".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/IWSLT16.TED.dev2010.en-"$l"."$l".txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/IWSLT16.TED.tst2010."$i"-en.en.txt "$j":en:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en."$j".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$j"-en/IWSLT16.TED.tst2010."$j"-en.en.txt "$k":en:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.tst2010."$k"-en."$k".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$k"-en/IWSLT16.TED.tst2010."$k"-en.en.txt "$l":en:/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/IWSLT16.TED.tst2010."$l"-en."$l".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$l"-en/IWSLT16.TED.tst2010."$l"-en.en.txt en:"$i":/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$i"/IWSLT16.TED.tst2010.en-"$i"."$i".txt en:"$j":/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$j"/IWSLT16.TED.tst2010.en-"$j"."$j".txt en:"$k":/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.tst2010.en-"$k".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$k"/IWSLT16.TED.tst2010.en-"$k"."$k".txt en:"$l":/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/IWSLT16.TED.tst2010.en-"$l".en.txt:/windroot/raj/corpora_downloads/IWSLT2016/en-"$l"/IWSLT16.TED.tst2010.en-"$l"."$l".txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en --max_src_vocab 32000 --max_tgt_vocab 32000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.dev.tgt
done
done
done
done

langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
nextnextnext=`echo $z+1 | bc`
for a in `seq $nextnextnext 4`
do
l=$langs[$a]
echo $i $j $k $l 12 20
python train.py /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic --gpu 0 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 500000 --max_src_tgt_length 100
done
done
done
done


langs=(ar cs de fr)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
nextnextnext=`echo $z+1 | bc`
for a in `seq $nextnextnext 4`
do
l=$langs[$a]
echo $i $j $k $l 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/"$i"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$i"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/ en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/en_"$i"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$i"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/ $i 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/"$j"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$j"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/ en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/en_"$j"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$j"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/ $j 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/"$k"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$k"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$k"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/ en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/en_"$k"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$k"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$k"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/ $k 12 20
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/"$l"_en_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$l"_en/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_"$l"_en/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/ en
bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/en_"$l"_test_beam_12 /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$l"/mlnmt.test.src.raw /windroot/raj/corpora_downloads/IWSLT2016/1s1t_en_"$l"/mlnmt.test.tgt.raw /windroot/raj/corpora_downloads/IWSLT2016/5s5t_"$i"_"$j"_"$k"_"$l"_en/ $l 12 20
done
done
done
done


###### Multisource experiments

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/health/bn-hi/train.bn:/windroot/raj/parallel_corpora_normalized/health/bn-hi/train.hi en:hi:/windroot/raj/parallel_corpora_normalized/health/en-hi/train.en:/windroot/raj/parallel_corpora_normalized/health/en-hi/train.hi mr:hi:/windroot/raj/parallel_corpora_normalized/health/mr-hi/train.mr:/windroot/raj/parallel_corpora_normalized/health/mr-hi/train.hi ta:hi:/windroot/raj/parallel_corpora_normalized/health/ta-hi/train.ta:/windroot/raj/parallel_corpora_normalized/health/ta-hi/train.hi te:hi:/windroot/raj/parallel_corpora_normalized/health/te-hi/train.te:/windroot/raj/parallel_corpora_normalized/health/te-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/health/bn-hi/tun.bn:/windroot/raj/parallel_corpora_normalized/health/bn-hi/tun.hi en:hi:/windroot/raj/parallel_corpora_normalized/health/en-hi/tun.en:/windroot/raj/parallel_corpora_normalized/health/en-hi/tun.hi mr:hi:/windroot/raj/parallel_corpora_normalized/health/mr-hi/tun.mr:/windroot/raj/parallel_corpora_normalized/health/mr-hi/tun.hi ta:hi:/windroot/raj/parallel_corpora_normalized/health/ta-hi/tun.ta:/windroot/raj/parallel_corpora_normalized/health/ta-hi/tun.hi te:hi:/windroot/raj/parallel_corpora_normalized/health/te-hi/tun.te:/windroot/raj/parallel_corpora_normalized/health/te-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/health/bn-hi/test.bn:/windroot/raj/parallel_corpora_normalized/health/bn-hi/test.hi en:hi:/windroot/raj/parallel_corpora_normalized/health/en-hi/test.en:/windroot/raj/parallel_corpora_normalized/health/en-hi/test.hi mr:hi:/windroot/raj/parallel_corpora_normalized/health/mr-hi/test.mr:/windroot/raj/parallel_corpora_normalized/health/mr-hi/test.hi ta:hi:/windroot/raj/parallel_corpora_normalized/health/ta-hi/test.ta:/windroot/raj/parallel_corpora_normalized/health/ta-hi/test.hi te:hi:/windroot/raj/parallel_corpora_normalized/health/te-hi/test.te:/windroot/raj/parallel_corpora_normalized/health/te-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1tMS --max_src_vocab 1 --max_tgt_vocab 1 --is_multisource 


python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/health/bn-hi/train.bn:/windroot/raj/parallel_corpora_normalized/health/bn-hi/train.hi en:hi:/windroot/raj/parallel_corpora_normalized/health/en-hi/train.en:/windroot/raj/parallel_corpora_normalized/health/en-hi/train.hi mr:hi:/windroot/raj/parallel_corpora_normalized/health/mr-hi/train.mr:/windroot/raj/parallel_corpora_normalized/health/mr-hi/train.hi ta:hi:/windroot/raj/parallel_corpora_normalized/health/ta-hi/train.ta:/windroot/raj/parallel_corpora_normalized/health/ta-hi/train.hi te:hi:/windroot/raj/parallel_corpora_normalized/health/te-hi/train.te:/windroot/raj/parallel_corpora_normalized/health/te-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/health/bn-hi/tun.bn:/windroot/raj/parallel_corpora_normalized/health/bn-hi/tun.hi en:hi:/windroot/raj/parallel_corpora_normalized/health/en-hi/tun.en:/windroot/raj/parallel_corpora_normalized/health/en-hi/tun.hi mr:hi:/windroot/raj/parallel_corpora_normalized/health/mr-hi/tun.mr:/windroot/raj/parallel_corpora_normalized/health/mr-hi/tun.hi ta:hi:/windroot/raj/parallel_corpora_normalized/health/ta-hi/tun.ta:/windroot/raj/parallel_corpora_normalized/health/ta-hi/tun.hi te:hi:/windroot/raj/parallel_corpora_normalized/health/te-hi/tun.te:/windroot/raj/parallel_corpora_normalized/health/te-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/parallel_corpora_normalized/health/bn-hi/test.bn:/windroot/raj/parallel_corpora_normalized/health/bn-hi/test.hi en:hi:/windroot/raj/parallel_corpora_normalized/health/en-hi/test.en:/windroot/raj/parallel_corpora_normalized/health/en-hi/test.hi mr:hi:/windroot/raj/parallel_corpora_normalized/health/mr-hi/test.mr:/windroot/raj/parallel_corpora_normalized/health/mr-hi/test.hi ta:hi:/windroot/raj/parallel_corpora_normalized/health/ta-hi/test.ta:/windroot/raj/parallel_corpora_normalized/health/ta-hi/test.hi te:hi:/windroot/raj/parallel_corpora_normalized/health/te-hi/test.te:/windroot/raj/parallel_corpora_normalized/health/te-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1tMS --max_src_vocab 1000 --max_tgt_vocab 1000 --is_multisource --drop_source_sentences


######### Projections

bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp_project.sh /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/all_project_greedy /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.basic.train.config /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.basic.model.best.npz /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.test.src.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/mlnmt.test.tgt.raw /home/raj/softwares-and-scripts/NNProjects/knmt/nmt_chainer/5s1t_fewer/ None 12 20 beam_search



####### Exponential binning tests

python train.py /windroot/raj/corpora_downloads/IWSLT2016/1s1t_fr_en/mlnmt.basic /tmp/mlnmt.eb --gpu 0 --mb_size 512 --weight_decay 0.000001 --postprocess --max_nb_iters 100 --max_src_tgt_length 5



########## Domain adaptation with codename CHU

bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT/backtranslated/baseline /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/en2zh/postprocess/mlnmt.1s1t.trial.train.config /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/en2zh/postprocess/mlnmt.1s1t.trial.model.best.npz /windroot/chu/QED.en.all.reconstructed.tok.lc /windroot/chu/QED.en.all.reconstructed.tok.lc /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/en2zh/ None 12 500

bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/IWSLT/backtranslated/multifine /loquat/chu/nmt-experiments/IWSLT2015-CE/NTCIR-CE-adapt/multilingual/en2zh/multi_fine_tuning/fine_tuning/multi-train-adapt.train.config /loquat/chu/nmt-experiments/IWSLT2015-CE/NTCIR-CE-adapt/multilingual/en2zh/multi_fine_tuning/fine_tuning/multi-train-adapt.model.best.npz /windroot/chu/QED.en.all.reconstructed.tok.lc /windroot/chu/QED.en.all.reconstructed.tok.lc /loquat/chu/nmt-experiments/IWSLT2015-CE/NTCIR-CE-adapt/multilingual/en2zh/ zh_iwslt 12 500

python make_data.py /windroot/raj/corpora_downloads/IWSLT/LMNMT/train.src /windroot/raj/corpora_downloads/IWSLT/LMNMT/train.tgt /windroot/raj/corpora_downloads/IWSLT/LMNMT/QED.lm --src_voc_size 32000 --tgt_voc_size 32000 --use_voc /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/mlnmt.1s1t.voc --use_tgt_voc_only --dev_src /windroot/raj/corpora_downloads/IWSLT/LMNMT/dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT/LMNMT/dev.tgt

python train.py /windroot/raj/corpora_downloads/IWSLT/LMNMT/QED.lm /windroot/raj/corpora_downloads/IWSLT/LMNMT/QED.lm.trial --gpu 0 --optimizer adam --weight_decay 0.000001 --l2_gradient_clipping 1 --mb_size 256 --max_src_tgt_length 80 --encoder_cell_type dlstm --decoder_cell_type dlstm --is_multitarget --postprocess

--gpu 1 --apply_preprocessing --apply_postprocessing --prepostprocessor /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/ 
python eval.py  /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/postprocess/mlnmt.1s1t.trial.train.config /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/postprocess/mlnmt.1s1t.trial.model.ckpt.npz /windroot/raj/corpora_downloads/test.src.1 /windroot/raj/corpora_downloads/IWSLT/mlnmt.test.en.self_ensemble.withlm --additional_training_config /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/postprocess/mlnmt.1s1t.trial.train.config /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/postprocess/mlnmt.1s1t.trial.train.config /windroot/raj/corpora_downloads/IWSLT/LMNMT/QED.lm.trial.train.config --additional_trained_model /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/postprocess/mlnmt.1s1t.trial.model.best.npz /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/postprocess/mlnmt.1s1t.trial.model.best_loss.npz /windroot/raj/corpora_downloads/IWSLT/LMNMT/QED.lm.trial.model.best_loss.npz --mode eval_bleu --beam_width 100 --nb_steps_ratio 2 --dic /loquat/chu/nmt-experiments/NTCIR-CE/treebank/baseline-5000/BPE/postprocess/dic_c_e.json --ref /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/postprocess/../mlnmt.test.tgt --is_multisource --additional_src_fn /windroot/raj/corpora_downloads/test.src.2 /windroot/raj/corpora_downloads/test.src.3 /windroot/raj/corpora_downloads/test.src.4 --apply_preprocessing --apply_postprocessing --prepostprocessor /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/ --additional_prepostprocessor /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/ /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/ /windroot/raj/corpora_downloads/IWSLT/LMNMT/ --tgt_fn /windroot/raj/corpora_downloads/test.tgt --gpu 1

--gpu 1

python make_data.py /windroot/raj/corpora_downloads/IWSLT/LMNMT/multifinetuning/train.src /windroot/raj/corpora_downloads/IWSLT/LMNMT/multifinetuning/train.tgt /windroot/raj/corpora_downloads/IWSLT/LMNMT/multifinetuning/QED.lm --src_voc_size 32000 --tgt_voc_size 32000 --use_voc /loquat/chu/nmt-experiments/IWSLT2015-CE/NTCIR-CE-adapt/multilingual/mlnmt.2s2t.voc --use_tgt_voc_only --dev_src /windroot/raj/corpora_downloads/IWSLT/LMNMT/multifinetuning/dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT/LMNMT/multifinetuning/dev.tgt

python train.py /windroot/raj/corpora_downloads/IWSLT/LMNMT/multifinetuning/QED.lm /windroot/raj/corpora_downloads/IWSLT/LMNMT/multifinetuning/QED.lm.trial --gpu 2 --optimizer adam --weight_decay 0.000001 --l2_gradient_clipping 1 --mb_size 256 --max_src_tgt_length 80 --encoder_cell_type dlstm --decoder_cell_type dlstm --is_multitarget --postprocess


python eval.py /loquat/chu/nmt-experiments/IWSLT2015-CE/NTCIR-CE-adapt/multilingual/postprocess/mlnmt.2s2t.trial.train.config /loquat/chu/nmt-experiments/IWSLT2015-CE/NTCIR-CE-adapt/multilingual/postprocess/mlnmt.2s2t.trial.model.ckpt.npz /windroot/raj/corpora_downloads/IWSLT/test.src.1 /windroot/raj/corpora_downloads/IWSLT/mlnmt.test.en.self_ensemble.withlm.mft --additional_training_config /loquat/chu/nmt-experiments/IWSLT2015-CE/NTCIR-CE-adapt/multilingual/postprocess/mlnmt.2s2t.trial.train.config /loquat/chu/nmt-experiments/IWSLT2015-CE/NTCIR-CE-adapt/multilingual/postprocess/mlnmt.2s2t.trial.train.config /windroot/raj/corpora_downloads/IWSLT/LMNMT/multifinetuning/QED.lm.trial.train.config --additional_trained_model /loquat/chu/nmt-experiments/IWSLT2015-CE/NTCIR-CE-adapt/multilingual/postprocess/mlnmt.2s2t.trial.model.best.npz /loquat/chu/nmt-experiments/IWSLT2015-CE/NTCIR-CE-adapt/multilingual/postprocess/mlnmt.2s2t.trial.model.best_loss.npz /windroot/raj/corpora_downloads/IWSLT/LMNMT/multifinetuning/QED.lm.trial.model.best_loss.npz --mode eval_bleu --beam_width 100 --nb_steps_ratio 2 --dic /loquat/chu/nmt-experiments/NTCIR-CE/treebank/baseline-5000/BPE/postprocess/dic_c_e.json --ref /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/postprocess/../mlnmt.test.tgt --is_multisource --additional_src_fn /windroot/raj/corpora_downloads/IWSLT/test.src.2 /windroot/raj/corpora_downloads/IWSLT/test.src.3 /windroot/raj/corpora_downloads/IWSLT/test.src.4 --apply_preprocessing --apply_postprocessing --prepostprocessor /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/ --additional_prepostprocessor /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/ /loquat/chu/nmt-experiments/IWSLT2015-CE/treebank/baseline-5000/BPE/ /windroot/raj/corpora_downloads/IWSLT/LMNMT/ --tgt_fn /windroot/raj/corpora_downloads/test.tgt --gpu 0 --tgt_lang "en_iwslt"

## WIKI

bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/WIKI/backtranslated/baseline /windroot/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/ja2zh/postprocess/mlnmt.1s1t.trial.train.config /windroot/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/ja2zh/postprocess/mlnmt.1s1t.trial.model.best.npz /windroot/raj/corpora_downloads/WIKI/backtranslation.candidates.ja /windroot/raj/corpora_downloads/WIKI/backtranslation.candidates.ja /windroot/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/ja2zh/ None 12 500


bash softwares-and-scripts/NNProjects/knmt/nmt_chainer/mr_gxp.sh /windroot/raj/corpora_downloads/WIKI/backtranslated/multifine /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/ja2zh/multi_fine_tuning/fine_tuning/multi-train-adapt.train.config /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/ja2zh/multi_fine_tuning/fine_tuning/multi-train-adapt.model.best.npz /windroot/raj/corpora_downloads/WIKI/backtranslation.candidates.ja /windroot/raj/corpora_downloads/WIKI/backtranslation.candidates.ja /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/ja2zh/ ja_wiki 12 500


python make_data.py /windroot/raj/corpora_downloads/WIKI/LMNMT/train.src /windroot/raj/corpora_downloads/WIKI/LMNMT/train.tgt /windroot/raj/corpora_downloads/WIKI/LMNMT/QED.lm --src_voc_size 32000 --tgt_voc_size 32000 --use_voc /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/mlnmt.1s1t.voc --use_tgt_voc_only --dev_src /windroot/raj/corpora_downloads/WIKI/LMNMT/dev.src --dev_tgt /windroot/raj/corpora_downloads/WIKI/LMNMT/dev.tgt --test_src /windroot/raj/corpora_downloads/WIKI/LMNMT/dev.src --test_tgt /windroot/raj/corpora_downloads/WIKI/LMNMT/dev.tgt

python train.py /windroot/raj/corpora_downloads/WIKI/LMNMT/QED.lm /windroot/raj/corpora_downloads/WIKI/LMNMT/QED.lm.trial --gpu 0 --optimizer adam --weight_decay 0.000001 --l2_gradient_clipping 1 --mb_size 512 --max_src_tgt_length 80 --encoder_cell_type dlstm --decoder_cell_type dlstm --is_multitarget --postprocess

python eval.py  /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/postprocess/mlnmt.1s1t.trial.train.config /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/postprocess/mlnmt.1s1t.trial.model.ckpt.npz /windroot/raj/corpora_downloads/WIKI/test.src.1 /windroot/raj/corpora_downloads/WIKI/mlnmt.test.en.self_ensemble.withlm --additional_training_config /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/postprocess/mlnmt.1s1t.trial.train.config /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/postprocess/mlnmt.1s1t.trial.train.config /windroot/raj/corpora_downloads/WIKI/LMNMT/QED.lm.trial.train.config --additional_trained_model /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/postprocess/mlnmt.1s1t.trial.model.best.npz /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/postprocess/mlnmt.1s1t.trial.model.best_loss.npz /windroot/raj/corpora_downloads/WIKI/LMNMT/QED.lm.trial.model.best_loss.npz --mode eval_bleu --beam_width 100 --nb_steps_ratio 2 --dic /loquat/chu/nmt-experiments/ASPEC-CJ/treebank/baseline+5000/dic_c_j.json --ref /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/postprocess/../mlnmt.test.tgt --is_multisource --additional_src_fn /windroot/raj/corpora_downloads/WIKI/test.src.2 /windroot/raj/corpora_downloads/WIKI/test.src.3 /windroot/raj/corpora_downloads/WIKI/test.src.4 --apply_preprocessing --apply_postprocessing --prepostprocessor /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/ --additional_prepostprocessor /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/ /loquat/chu/nmt-experiments/wiki_zh_ja/treebank/baseline-5000/BPE/raj/ /windroot/raj/corpora_downloads/WIKI/LMNMT/ --tgt_fn /windroot/raj/corpora_downloads/WIKI/test.tgt --gpu 2


python make_data.py /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/train.src /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/train.tgt /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/QED.lm --src_voc_size 32000 --tgt_voc_size 32000 --use_voc /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/mlnmt.2s2t.voc --use_tgt_voc_only --dev_src /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/dev.src --dev_tgt /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/dev.tgt --test_src /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/dev.src --test_tgt /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/dev.tgt

python train.py /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/QED.lm /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/QED.lm.trial --gpu 2 --optimizer adam --weight_decay 0.000001 --l2_gradient_clipping 1 --mb_size 512 --max_src_tgt_length 80 --encoder_cell_type dlstm --decoder_cell_type dlstm --is_multitarget --postprocess

python eval.py /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/postprocess/mlnmt.2s2t.trial.train.config /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/postprocess/mlnmt.2s2t.trial.model.ckpt.npz /windroot/raj/corpora_downloads/WIKI/test.src.1 /windroot/raj/corpora_downloads/WIKI/mlnmt.test.en.self_ensemble.withlm.mft --additional_training_config /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/postprocess/mlnmt.2s2t.trial.train.config /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/postprocess/mlnmt.2s2t.trial.train.config /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/QED.lm.trial.train.config --additional_trained_model /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/postprocess/mlnmt.2s2t.trial.model.best.npz /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/postprocess/mlnmt.2s2t.trial.model.best_loss.npz /windroot/raj/corpora_downloads/WIKI/LMNMT/multifinetuning/QED.lm.trial.model.best_loss.npz --mode eval_bleu --beam_width 100 --nb_steps_ratio 2 --dic /loquat/chu/nmt-experiments/ASPEC-CJ/treebank/baseline+5000/dic_c_j.json --ref /windroot/raj/corpora_downloads/WIKI/test.mf.tgt --is_multisource --additional_src_fn /windroot/raj/corpora_downloads/WIKI/test.src.2 /windroot/raj/corpora_downloads/WIKI/test.src.3 /windroot/raj/corpora_downloads/WIKI/test.src.5 --apply_preprocessing --apply_postprocessing --prepostprocessor /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/ --additional_prepostprocessor /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/ /loquat/chu/nmt-experiments/wiki_zh_ja/ASPEC-CJ-adapt/multilingual/joint_bpe/ /windroot/raj/corpora_downloads/IWSLT/LMNMT/multifinetuning/ --tgt_fn /windroot/raj/corpora_downloads/WIKI/test.mf.tgt --gpu 0 --tgt_lang "ja_wiki"




## Bidirectional model

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs zh:en:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/train.zh-en.zh.seg.fil:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/train.zh-en.en.tok.lc.fil en:zh:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/train.zh-en.en.tok.lc.fil:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/train.zh-en.zh.seg.fil --dev_lang_corpora_pairs zh:en:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/testset/IWSLT15.TED.dev2010.zh-en.zh.seg:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/testset/IWSLT15.TED.dev2010.zh-en.en.tok.lc en:zh:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/testset/IWSLT15.TED.dev2010.zh-en.en.tok.lc:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/testset/IWSLT15.TED.dev2010.zh-en.zh.seg --test_lang_corpora_pairs zh:en:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/testset/IWSLT15.TED.tst2010.zh-en.zh.seg:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/testset/IWSLT15.TED.tst2010.zh-en.en.tok.lc en:zh:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/testset/IWSLT15.TED.tst2010.zh-en.en.tok.lc:/loquat/chu/resource/parallel_corpus/IWSLT2015/zh-en/testset/IWSLT15.TED.tst2010.zh-en.zh.seg --balance_vocab_counts --balance_corpora --save_prefix /loquat/raj/NNExperiments/DOMADAPT/zhen2s2t --max_src_vocab 16000 --max_tgt_vocab 16000


python make_data.py /loquat/raj/NNExperiments/DOMADAPT/zhen2s2t/mlnmt.train.src /loquat/raj/NNExperiments/DOMADAPT/zhen2s2t/mlnmt.train.tgt /loquat/raj/NNExperiments/DOMADAPT/zhen2s2t/mlnmt.trial --src_voc_size 16000 --tgt_voc_size 16000 --dev_src /loquat/raj/NNExperiments/DOMADAPT/zhen2s2t/mlnmt.dev.src --dev_tgt /loquat/raj/NNExperiments/DOMADAPT/zhen2s2t/mlnmt.dev.tgt --test_src /loquat/raj/NNExperiments/DOMADAPT/zhen2s2t/mlnmt.test.src --test_tgt /loquat/raj/NNExperiments/DOMADAPT/zhen2s2t/mlnmt.test.tgt

python train.py /loquat/raj/NNExperiments/DOMADAPT/zhen2s2t/mlnmt.trial /loquat/raj/NNExperiments/DOMADAPT/zhen2s2t/mlnmt.trial --gpu 1 --optimizer adam --weight_decay 0.000001 --l2_gradient_clipping 1 --mb_size 64 --max_src_tgt_length 100 --encoder_cell_type lstm --decoder_cell_type lstm --postprocess


############## indian languages



for i in mr
do
for j in 4
do
mkdir -p /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/train."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/train.hi --dev_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/tun."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/tun.hi --test_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/test."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k --max_src_vocab 4000 --max_tgt_vocab 8000
python make_data.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.train.src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic --src_voc_size 4000 --tgt_voc_size 8000 --test_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.dev.tgt
done
done


for i in bn
do
for j in 8 16 32
do
mkdir -p /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/train."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/train.hi --dev_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/tun."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/tun.hi --test_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/test."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000
python make_data.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.train.src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.dev.tgt
done
done


for i in en mr ta te
do
for j in 8 16 32
do
mkdir -p /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/train."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/train.hi --dev_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/tun."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/tun.hi --test_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/test."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000
python make_data.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.train.src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.dev.tgt --use_voc /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/1s1t/"$j"k/mlnmt.basic.voc --use_tgt_voc_only
done
done

for i in bn
do
for j in 8 16 32
do
echo "python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic --gpu 0 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000"
done
done


for i in mr
do
for j in 8
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic.batch_size_8 --gpu 1 --mb_size 8 --weight_decay 0.000001 --postprocess --max_nb_iters 30000
done
done

for i in mr
do
for j in 16
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic.batch_size_8 --gpu 0 --mb_size 8 --weight_decay 0.000001 --postprocess --max_nb_iters 30000
done
done

for i in mr
do
for j in 32
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic.batch_size_8 --gpu 1 --mb_size 8 --weight_decay 0.000001 --postprocess --max_nb_iters 30000
done
done

python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/1s1t/8k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/1s1t/8k/mlnmt.basic --gpu 0 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/1s1t/16k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/1s1t/16k/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/1s1t/32k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/1s1t/32k/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000

for i in en mr ta te
do
for j in 8
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000
done
done

for i in en mr ta te
do
for j in 16
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic --gpu 0 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000
done
done


for i in en mr ta te
do
for j in 32
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 10000
done
done


for i in mr
do
for j in 4
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 20000
done
done



for i in bn en mr ta te
do
for j in 8
do
for k in 4 8 12 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic.model.ckpt.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.beam_search_"$k" --mode eval_bleu --beam_width "$k" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --gpu 2
done
done
done

for i in bn en mr ta te
do
for j in 16
do
for k in 4 8 12 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic.model.ckpt.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.beam_search_"$k" --mode eval_bleu --beam_width "$k" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --gpu 0
done
done
done

for i in bn en mr ta te
do
for j in 32
do
for k in 4 8 12 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic.model.ckpt.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.beam_search_"$k" --mode eval_bleu --beam_width "$k" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --gpu 2
done
done
done


for i in bn en mr ta te
do
for j in 8 16 32
do
for k in 4 8 12 16
do
echo -n "Lang pair: $i-hi Vocab size: ${j}k Beam size: $k --- " >> /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/all_bleu_1s1t
python bleu_computer.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.beam_search_"$k".unk_replaced.restored >> /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/all_bleu_1s1t
done
done
done

for i in bn en mr ta te
do
for j in 8 16 32
do
for k in 4 8 12 16
do
echo -n "Lang pair: $i-hi Vocab size: ${j}k Beam size: $k --- "
python bleu_computer.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.beam_search_"$k".unk_replaced.restored
done
done
done


for i in bn en mr ta te
do
for j in 8
do
for k in 4 8 12 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$j"k/5s/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$j"k/5s/mlnmt.basic.model.ckpt.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.beam_search_"$k"_5s1t_withdrop --mode eval_bleu --beam_width "$k" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$j"k/5s/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --gpu 1
done
done
done

for i in bn en mr ta te
do
for j in 16
do
for k in 4 8 12 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$j"k/5s/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$j"k/5s/mlnmt.basic.model.ckpt.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.beam_search_"$k"_5s1t_withdrop --mode eval_bleu --beam_width "$k" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$j"k/5s/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --gpu 1
done
done
done

for i in bn en mr ta te
do
for j in 32
do
for k in 4 8 12 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$j"k/5s/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$j"k/5s/mlnmt.basic.model.ckpt.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.beam_search_"$k"_5s1t_withdrop --mode eval_bleu --beam_width "$k" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$j"k/5s/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.test.tgt.raw --gpu 0
done
done
done

########### My multisource method

mkdir -p /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s/ 

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s --max_src_vocab 8000 --max_tgt_vocab 8000 --is_multisource --drop_source_sentences

python make_data.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s/mlnmt.train.src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s/mlnmt.train.tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s/mlnmt.basic --src_voc_size 8000 --tgt_voc_size 8000 --test_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s/mlnmt.test.src --test_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s/mlnmt.test.tgt --dev_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s/mlnmt.dev.src --dev_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s/mlnmt.dev.tgt

python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/8k/5s/mlnmt.basic --gpu 0 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 20000

mkdir -p /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/ 

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s --max_src_vocab 16000 --max_tgt_vocab 16000 --is_multisource --drop_source_sentences

python make_data.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.train.src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.train.tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.basic --src_voc_size 16000 --tgt_voc_size 16000 --test_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.test.src --test_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.test.tgt --dev_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.dev.src --dev_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.dev.tgt

python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.basic --gpu 1 --mb_size 8 --weight_decay 0.000001 --postprocess --max_nb_iters 20000 --load_model /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.basic.model.final.npz --load_optimizer_state  /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/16k/5s/mlnmt.basic.optimizer.final.npz


mkdir -p /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s/ 

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s --max_src_vocab 32000 --max_tgt_vocab 32000 --is_multisource --drop_source_sentences

python make_data.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s/mlnmt.train.src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s/mlnmt.train.tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s/mlnmt.test.src --test_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s/mlnmt.test.tgt --dev_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s/mlnmt.dev.src --dev_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s/mlnmt.dev.tgt

python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/32k/5s/mlnmt.basic --gpu 1 --mb_size 8 --weight_decay 0.000001 --postprocess --max_nb_iters 20000


mkdir -p /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s/ 

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s --max_src_vocab 8000 --max_tgt_vocab 8000 --is_multisource 

python make_data.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s/mlnmt.train.src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s/mlnmt.train.tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s/mlnmt.basic --src_voc_size 8000 --tgt_voc_size 8000 --test_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s/mlnmt.test.src --test_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s/mlnmt.test.tgt --dev_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s/mlnmt.dev.src --dev_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s/mlnmt.dev.tgt

python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/8k/5s/mlnmt.basic --gpu 1 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 20000

mkdir -p /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s/ 

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s --max_src_vocab 16000 --max_tgt_vocab 16000 --is_multisource

python make_data.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s/mlnmt.train.src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s/mlnmt.train.tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s/mlnmt.basic --src_voc_size 16000 --tgt_voc_size 16000 --test_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s/mlnmt.test.src --test_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s/mlnmt.test.tgt --dev_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s/mlnmt.dev.src --dev_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s/mlnmt.dev.tgt

python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/16k/5s/mlnmt.basic --gpu 2 --mb_size 8 --weight_decay 0.000001 --postprocess --max_nb_iters 20000

mkdir -p /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s/ 

python generate_multilingual_bpe_data.py --train_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/train.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/train.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/train.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/train.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/train.hi --dev_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/tun.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/tun.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/tun.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/tun.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/tun.hi --test_lang_corpora_pairs bn:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.bn:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/bn-hi/test.hi en:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.en:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/en-hi/test.hi mr:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.mr:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/mr-hi/test.hi ta:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.ta:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/ta-hi/test.hi te:hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.te:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/te-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s --max_src_vocab 32000 --max_tgt_vocab 32000 --is_multisource

python make_data.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s/mlnmt.train.src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s/mlnmt.train.tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s/mlnmt.basic --src_voc_size 32000 --tgt_voc_size 32000 --test_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s/mlnmt.test.src --test_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s/mlnmt.test.tgt --dev_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s/mlnmt.dev.src --dev_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s/mlnmt.dev.tgt


python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/32k/5s/mlnmt.basic --gpu 0 --mb_size 8 --weight_decay 0.000001 --postprocess --max_nb_iters 20000



for i in withdrop withoutdrop
do
for j in 8 16 32
do
for k in 4 8 12 16
do
echo -n "Dropping Random sentences setting: ${i} Vocab size: ${j}k Beam size: $k --- " >> /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/all_bleu_5s1t
python bleu_computer.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/"$i"/"$j"k/5s/mlnmt.test.tgt.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/"$i"/"$j"k/5s/mlnmt.test.beam_search_"$k".unk_replaced.restored >> /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/all_bleu_5s1t
done
done
done


for i in 8 16 32
do
for j in 4 8 12 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.basic.model.ckpt.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.test.beam_search_"$j" --mode eval_bleu --beam_width "$j" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.test.tgt.raw --gpu 0
done
done

for i in 8 16 32
do
for j in 4 8 12 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$i"k/5s/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$i"k/5s/mlnmt.basic.model.ckpt.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$i"k/5s/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$i"k/5s/mlnmt.test.beam_search_"$j" --mode eval_bleu --beam_width "$j" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$i"k/5s/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$i"k/5s/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withdrop/"$i"k/5s/mlnmt.test.tgt.raw --gpu 1
done
done



langs=(bn en mr ta te)

for x in `seq 1 5`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 8 16 32
do
mkdir -p /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j" 

nice -n 19 python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/train."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/train.hi "$j":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$j"-hi/train."$j":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$j"-hi/train.hi --dev_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/tun."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/tun.hi "$j":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$j"-hi/tun."$j":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$j"-hi/tun.hi --test_lang_corpora_pairs "$i":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/test."$i":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/test.hi "$j":hi:/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$j"-hi/test."$j":/windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$j"-hi/test.hi --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j" --max_src_vocab "$k"000 --max_tgt_vocab "$k"000 --is_multisource&


done
fi
done
done

langs=(bn en mr ta te)

for x in `seq 1 5`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 8 16 32
do
nice -n 19  python make_data.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.train.src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.train.tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic --src_voc_size "$k"000 --tgt_voc_size "$k"000 --test_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src --test_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt --dev_src /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.dev.src --dev_tgt /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.dev.tgt&

done
fi
done
done


langs=(bn en mr ta te)

for x in `seq 1 5`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 8 16 32
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic --gpu 1 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 20000

done
fi
done
done



langs=(bn en mr ta te)

for x in `seq 1 5`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 8 16 32
do
python graph_training.py --lib plotly /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.result.sqlite ~/public_html/"$k"k2s"$i"_"$j".html

done
fi
done
done

langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 8      
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic --gpu 1 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 15000 --load_model /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.final.npz --load_optimizer_state /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.optimizer.final.npz
done
fi
done
done

langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 16      
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic --gpu 0 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 15000 --load_model /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.final.npz --load_optimizer_state /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.optimizer.final.npz
done
fi
done
done

langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 32
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic --gpu 2 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 15000 --load_model /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.final.npz --load_optimizer_state /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.optimizer.final.npz
done
fi
done
done










BEAM SEARCH 

langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 8
do
for l in 4
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 1
done
done
fi
done
done


langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 8
do
for l in 8
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 1
done
done
fi
done
done

langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 8
do
for l in 12
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 1
done
done
fi
done
done

langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 8
do
for l in 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 2
done
done
fi
done
done




langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 16
do
for l in 4
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 2
done
done
fi
done
done


langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 16
do
for l in 8
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 2
done
done
fi
done
done

langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 16
do
for l in 12
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 2
done
done
fi
done
done

langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 16
do
for l in 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 2
done
done
fi
done
done




langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 32
do
for l in 4
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 0
done
done
fi
done
done


langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 32
do
for l in 8
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 0
done
done
fi
done
done

langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 32
do
for l in 12
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 0
done
done
fi
done
done

langs=(bn en mr ta te)
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 32
do
for l in 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.src.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw --gpu 0
done
done
fi
done
done



langs=(bn en mr ta te)
rm /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/all_bleu_2s1t_best
for x in `seq 1 5`    
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 5`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 8 16 32
do
for l in 4 8 12 16
do
echo -n "Language pair combination: ${i}-${j} Vocab size: ${k}k Beam size: $l --- " >> /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/all_bleu_2s1t_best
python bleu_computer.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.tgt.raw /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$k"k/2s/"$i"_"$j"/mlnmt.test.beam_search_"$l".unk_replaced.restored >> /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/all_bleu_2s1t_best
done
done
fi
done
done






for i in 32
do
for j in 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.test.src.raw.10 /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.test.align_"$j".html --mode align --beam_width "$j" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.test.tgt.raw.10 --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/5s/mlnmt.test.tgt.raw.10 --gpu 1
done
done


for i in 32
do                                                                                                                                                                 
for j in 16
do
python eval.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/2s/bn_mr/mlnmt.basic.train.config /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/2s/bn_mr/mlnmt.basic.model.best.npz /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/2s/bn_mr/mlnmt.test.src.raw.10 /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/2s/bn_mr/mlnmt.test.align_"$j".html --mode align --beam_width "$j" --nb_steps_ratio 1.5 --ref /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/2s/bn_mr/mlnmt.test.tgt.raw.10 --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/2s/bn_mr/ --tgt_fn /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/MSMLNMT/withoutdrop/"$i"k/2s/bn_mr/mlnmt.test.tgt.raw.10 --gpu 1
done
done


########### IWSLT CORPUS

###All 4 Sources

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/train.tags.ar-en.ar /windroot/raj/corpora_downloads/IWSLT2016/de-en/train.tags.de-en.de /windroot/raj/corpora_downloads/IWSLT2016/cs-en/train.tags.cs-en.cs /windroot/raj/corpora_downloads/IWSLT2016/fr-en/train.tags.fr-en.fr --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/train.tags.ar-en.en /windroot/raj/corpora_downloads/IWSLT2016/de-en/train.tags.de-en.en /windroot/raj/corpora_downloads/IWSLT2016/cs-en/train.tags.cs-en.en /windroot/raj/corpora_downloads/IWSLT2016/fr-en/train.tags.fr-en.en --extension ms4s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.dev2010.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.dev2010.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.dev2010.cs-en.cs.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.dev2010.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.dev2010.ar-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.dev2010.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.dev2010.cs-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.dev2010.fr-en.en.txt --extension ms4s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2010.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2010.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.tst2010.cs-en.cs.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2010.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2010.ar-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2010.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.tst2010.cs-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2010.fr-en.en.txt --extension ms4s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2011.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2011.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.tst2011.cs-en.cs.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2011.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2011.ar-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2011.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.tst2011.cs-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2011.fr-en.en.txt --extension ms4s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2012.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2012.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.tst2012.cs-en.cs.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2012.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2012.ar-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2012.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.tst2012.cs-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2012.fr-en.en.txt --extension ms4s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2013.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2013.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.tst2013.cs-en.cs.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2013.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2013.ar-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2013.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/IWSLT16.TED.tst2013.cs-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2013.fr-en.en.txt --extension ms4s


for i in fr
do
for j in 8 16
do
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.train.tags."$i"-en.en --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.dev2010."$i"-en.en.txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.dev.tgt
done
done

for i in de ar cs
do
for j in 8 16
do
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.train.tags."$i"-en.en --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.dev2010."$i"-en.en.txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000&
done
done


for i in de ar cs
do
for j in 8 16
do
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.dev.tgt --use_voc /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s/1s1t/"$j"k/mlnmt.basic.voc --use_tgt_voc_only --use_voc /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s/1s1t/"$j"k/mlnmt.basic.voc --use_tgt_voc_only&
done
done


for i in fr
do
for j in 8
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 0 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 20000 --max_src_tgt_length 100
done
done

for i in fr
do
for j in 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 20000 --max_src_tgt_length 100
done
done

for i in de
do
for j in 8
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 20000 --max_src_tgt_length 100
done
done

for i in de
do
for j in 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 3 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 20000 --max_src_tgt_length 100
done
done

for i in ar
do
for j in 8
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 4 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 20000 --max_src_tgt_length 100
done
done

for i in ar
do
for j in 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 5 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 20000 --max_src_tgt_length 100
done
done


for i in cs
do
for j in 8
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 6 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 20000 --max_src_tgt_length 100
done
done

for i in cs
do
for j in 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 7 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 20000 --max_src_tgt_length 100
done
done


for i in ar cs de fr
do
for j in 8 16
do
python graph_training.py --lib plotly /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".result.sqlite ~/public_html/IWSLT2016"$i"-enms4s1s1t"$j"k.html&
done
done


for i in ar cs de fr
do
for j in 8 16
do
for l in 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 2
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 2
done
done
done

for i in ar cs de fr
do
for j in 8 16
do
for l in 8
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 2
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 2
done
done
done

for i in ar cs de fr
do
for j in 8 16
do
for l in 12
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 2
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 2
done
done
done

for i in ar cs de fr
do
for j in 8 16
do
for l in 16
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 2
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 2
done
done
done

for j in 8 16
do
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s.train.tags.fr-en.fr:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s.train.tags.fr-en.en de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms4s.train.tags.de-en.de:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms4s.train.tags.de-en.en ar:en:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms4s.train.tags.ar-en.ar:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms4s.train.tags.ar-en.en cs:en:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/ms4s.train.tags.cs-en.cs:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/ms4s.train.tags.cs-en.en --dev_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s.IWSLT16.TED.dev2010.fr-en.fr.txt:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s.IWSLT16.TED.dev2010.fr-en.en.txt de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms4s.IWSLT16.TED.dev2010.de-en.de.txt:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms4s.IWSLT16.TED.dev2010.de-en.en.txt ar:en:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms4s.IWSLT16.TED.dev2010.ar-en.ar.txt:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms4s.IWSLT16.TED.dev2010.ar-en.en.txt cs:en:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/ms4s.IWSLT16.TED.dev2010.cs-en.cs.txt:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/ms4s.IWSLT16.TED.dev2010.cs-en.en.txt --test_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s.IWSLT16.TED.tst2010.fr-en.fr.txt:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s.IWSLT16.TED.tst2010.fr-en.en.txt de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms4s.IWSLT16.TED.tst2010.de-en.de.txt:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms4s.IWSLT16.TED.tst2010.de-en.en.txt ar:en:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms4s.IWSLT16.TED.tst2010.ar-en.ar.txt:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms4s.IWSLT16.TED.tst2010.ar-en.en.txt cs:en:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/ms4s.IWSLT16.TED.tst2010.cs-en.cs.txt:/windroot/raj/corpora_downloads/IWSLT2016/cs-en/ms4s.IWSLT16.TED.tst2010.cs-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000 --is_multisource 
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.dev.tgt
done


for j in 8 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic --gpu 2 --mb_size 8 --weight_decay 0.000001 --postprocess --max_nb_iters 50000 
done


for i in 8 16
do
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s.IWSLT16.TED.tst2010.fr-en.fr.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/ms4s.IWSLT16.TED.tst2010.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms4s.IWSLT16.TED.tst2010.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/ms4s.IWSLT16.TED.tst2010.cs-en.cs.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$i"k/IWSLT16.TED.tst2010.src
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s.IWSLT16.TED.tst2010.fr-en.en.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$i"k/IWSLT16.TED.tst2010.tgt
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s.IWSLT16.TED.tst2013.fr-en.fr.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/ms4s.IWSLT16.TED.tst2013.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms4s.IWSLT16.TED.tst2013.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/cs-en/ms4s.IWSLT16.TED.tst2013.cs-en.cs.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$i"k/IWSLT16.TED.tst2013.src
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms4s.IWSLT16.TED.tst2013.fr-en.en.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$i"k/IWSLT16.TED.tst2013.tgt
done

for j in 8 16
do
for l in 4
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 4
done
done


for j in 8 16
do
for l in 8
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 4
done
done

for j in 8 16
do
for l in 12
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 4
done
done

for j in 8 16
do
for l in 16
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 4
done
done

for j in 8 16
do
python graph_training.py --lib plotly /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/mlnmt.basic.result.sqlite ~/public_html/IWSLT2016"$i"-enms4s4s1t"$j"k.html&
done

rm /windroot/raj/corpora_downloads/IWSLT2016/ms4s1s1t
for i in fr de ar cs
do
for j in 8 16
do
for k in 4 8 12 16
do
echo -n "Lang pair: $i-en Vocab size: ${j}k Beam size: $k Test Set: tst2010 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms4s1s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2010."$i"-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms4s1s1t
echo -n "Lang pair: $i-en Vocab size: ${j}k Beam size: $k Test Set: tst2013 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms4s1s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s.IWSLT16.TED.tst2013."$i"-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms4s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms4s1s1t
done
done
done

rm /windroot/raj/corpora_downloads/IWSLT2016/ms4s4s1t
for j in 8 16
do
for k in 4 8 12 16
do
echo -n "Dropping Random sentences setting: Without Drop Vocab size: ${j}k Beam size: $k Test Set: tst2010 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms4s4s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.tgt /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms4s4s1t
echo -n "Dropping Random sentences setting: Without Drop Vocab size: ${j}k Beam size: $k Test Set: tst2013 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms4s4s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.tgt /windroot/raj/corpora_downloads/IWSLT2016/ms4s/4s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms4s4s1t
done
done


###3 Sources

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/train.tags.ar-en.ar /windroot/raj/corpora_downloads/IWSLT2016/de-en/train.tags.de-en.de /windroot/raj/corpora_downloads/IWSLT2016/fr-en/train.tags.fr-en.fr --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/train.tags.ar-en.en /windroot/raj/corpora_downloads/IWSLT2016/de-en/train.tags.de-en.en /windroot/raj/corpora_downloads/IWSLT2016/fr-en/train.tags.fr-en.en --extension ms3s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.dev2010.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.dev2010.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.dev2010.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.dev2010.ar-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.dev2010.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.dev2010.fr-en.en.txt --extension ms3s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2010.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2010.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2010.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2010.ar-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2010.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2010.fr-en.en.txt --extension ms3s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2011.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2011.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2011.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2011.ar-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2011.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2011.fr-en.en.txt --extension ms3s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2012.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2012.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2012.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2012.ar-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2012.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2012.fr-en.en.txt --extension ms3s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2013.ar-en.ar.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2013.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2013.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/ar-en/IWSLT16.TED.tst2013.ar-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2013.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2013.fr-en.en.txt --extension ms3s


for i in fr
do
for j in 8 16
do
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.train.tags."$i"-en.en --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.dev2010."$i"-en.en.txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.dev.tgt
done
done

for i in de ar
do
for j in 8 16
do
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.train.tags."$i"-en.en --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.dev2010."$i"-en.en.txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000&
done
done


for i in de ar
do
for j in 8 16
do
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.dev.tgt --use_voc /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s/1s1t/"$j"k/mlnmt.basic.voc --use_tgt_voc_only --use_voc /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s/1s1t/"$j"k/mlnmt.basic.voc --use_tgt_voc_only&
done
done


for i in fr
do
for j in 8 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 0 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 40000 --max_src_tgt_length 100
done
done

for i in ar
do
for j in 8 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 1 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 40000 --max_src_tgt_length 100
done
done

for i in de
do
for j in 8 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 40000 --max_src_tgt_length 100
done
done


for i in ar de fr
do
for j in 8 16
do
python graph_training.py --lib plotly /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".result.sqlite ~/public_html/IWSLT2016"$i"-enms3s1s1t"$j"k.html&
done
done


for i in ar de fr
do
for j in 8 16
do
for l in 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 3
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 3
done
done
done

for i in ar de fr
do
for j in 8 16
do
for l in 8
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 3
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 3
done
done
done

for i in ar de fr
do
for j in 8 16
do
for l in 12
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 3
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 3
done
done
done

for i in ar de fr
do
for j in 8 16
do
for l in 16
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 3
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 3
done
done
done



for j in 8 16
do
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s.train.tags.fr-en.fr:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s.train.tags.fr-en.en de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms3s.train.tags.de-en.de:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms3s.train.tags.de-en.en ar:en:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms3s.train.tags.ar-en.ar:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms3s.train.tags.ar-en.en --dev_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s.IWSLT16.TED.dev2010.fr-en.fr.txt:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s.IWSLT16.TED.dev2010.fr-en.en.txt de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms3s.IWSLT16.TED.dev2010.de-en.de.txt:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms3s.IWSLT16.TED.dev2010.de-en.en.txt ar:en:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms3s.IWSLT16.TED.dev2010.ar-en.ar.txt:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms3s.IWSLT16.TED.dev2010.ar-en.en.txt --test_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s.IWSLT16.TED.tst2010.fr-en.fr.txt:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s.IWSLT16.TED.tst2010.fr-en.en.txt de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms3s.IWSLT16.TED.tst2010.de-en.de.txt:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms3s.IWSLT16.TED.tst2010.de-en.en.txt ar:en:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms3s.IWSLT16.TED.tst2010.ar-en.ar.txt:/windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms3s.IWSLT16.TED.tst2010.ar-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000 --is_multisource 
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.dev.tgt
done


for j in 8 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic --gpu 2 --mb_size 8 --weight_decay 0.000001 --postprocess --max_nb_iters 50000 
done

for i in 8 16
do
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s.IWSLT16.TED.tst2010.fr-en.fr.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/ms3s.IWSLT16.TED.tst2010.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms3s.IWSLT16.TED.tst2010.ar-en.ar.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$i"k/IWSLT16.TED.tst2010.src
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s.IWSLT16.TED.tst2010.fr-en.en.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$i"k/IWSLT16.TED.tst2010.tgt
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s.IWSLT16.TED.tst2013.fr-en.fr.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/ms3s.IWSLT16.TED.tst2013.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/ar-en/ms3s.IWSLT16.TED.tst2013.ar-en.ar.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$i"k/IWSLT16.TED.tst2013.src
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms3s.IWSLT16.TED.tst2013.fr-en.en.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$i"k/IWSLT16.TED.tst2013.tgt
done


for j in 8 16
do
for l in 4
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 3
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 3
done
done


for j in 8 16
do
for l in 8
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 3
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 3
done
done

for j in 8 16
do
for l in 12
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 3
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 3
done
done

for j in 8 16
do
for l in 16
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 3
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 3
done
done


for j in 8 16
do
python graph_training.py --lib plotly /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/mlnmt.basic.result.sqlite ~/public_html/IWSLT2016"$i"-enms3s3s1t"$j"k.html&
done

rm /windroot/raj/corpora_downloads/IWSLT2016/ms3s1s1t
for i in fr de ar
do
for j in 8 16
do
for k in 4 8 12 16
do
echo -n "Lang pair: $i-en Vocab size: ${j}k Beam size: $k Test Set: tst2010 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms3s1s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2010."$i"-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms3s1s1t
echo -n "Lang pair: $i-en Vocab size: ${j}k Beam size: $k Test Set: tst2013 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms3s1s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s.IWSLT16.TED.tst2013."$i"-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms3s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms3s1s1t
done
done
done

rm /windroot/raj/corpora_downloads/IWSLT2016/ms3s3s1t
for j in 8 16
do
for k in 4 8 12 16
do
echo -n "Dropping Random sentences setting: Without Drop Vocab size: ${j}k Beam size: $k Test Set: tst2010 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms3s3s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.tgt /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms3s3s1t
echo -n "Dropping Random sentences setting: Without Drop Vocab size: ${j}k Beam size: $k Test Set: tst2013 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms3s3s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.tgt /windroot/raj/corpora_downloads/IWSLT2016/ms3s/3s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms3s3s1t
done
done



###2 Sources

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/train.tags.de-en.de /windroot/raj/corpora_downloads/IWSLT2016/fr-en/train.tags.fr-en.fr --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/train.tags.de-en.en /windroot/raj/corpora_downloads/IWSLT2016/fr-en/train.tags.fr-en.en --extension ms2s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.dev2010.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.dev2010.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.dev2010.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.dev2010.fr-en.en.txt --extension ms2s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2010.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2010.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2010.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2010.fr-en.en.txt --extension ms2s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2011.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2011.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2011.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2011.fr-en.en.txt --extension ms2s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2012.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2012.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2012.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2012.fr-en.en.txt --extension ms2s

python extract_n_way_corpus_from_multiple_bilingual_corpora.py --src_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2013.de-en.de.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2013.fr-en.fr.txt --tgt_corpora /windroot/raj/corpora_downloads/IWSLT2016/de-en/IWSLT16.TED.tst2013.de-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/fr-en/IWSLT16.TED.tst2013.fr-en.en.txt --extension ms2s


for i in fr
do
for j in 8 16
do
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.train.tags."$i"-en.en --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.dev2010."$i"-en.en.txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.dev.tgt
done
done

for i in de
do
for j in 8 16
do
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.train.tags."$i"-en."$i":/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.train.tags."$i"-en.en --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.dev2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.dev2010."$i"-en.en.txt --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en."$i".txt:/windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.dev.tgt --use_voc /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s/1s1t/"$j"k/mlnmt.basic.voc --use_tgt_voc_only
done
done


for i in fr
do
for j in 8
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 60000 --max_src_tgt_length 100
done
done

for i in fr
do
for j in 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 3 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 60000 --max_src_tgt_length 100
done
done

for i in de
do
for j in 8
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 4 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 60000 --max_src_tgt_length 100
done
done

for i in de
do
for j in 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j" --gpu 5 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 60000 --max_src_tgt_length 100
done
done

for i in de fr
do
for j in 8 16
do
python graph_training.py --lib plotly /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".result.sqlite ~/public_html/IWSLT2016"$i"-enms2s1s1t"$j"k.html
done
done

for i in de fr
do
for j in 8 16
do
for l in 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 4
done
done
done

for i in de fr
do
for j in 8 16
do
for l in 8
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 4
done
done
done

for i in de fr
do
for j in 8 16
do
for l in 12
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 4
done
done
done

for i in de fr
do
for j in 8 16
do
for l in 16
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt --gpu 4
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".train.config /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/mlnmt.basic.batch_size_"$j".model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en."$i".txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en.en.txt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en.en.txt --gpu 4
done
done
done


for j in 8 16
do
mkdir -p /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s.train.tags.fr-en.fr:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s.train.tags.fr-en.en de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms2s.train.tags.de-en.de:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms2s.train.tags.de-en.en --dev_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s.IWSLT16.TED.dev2010.fr-en.fr.txt:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s.IWSLT16.TED.dev2010.fr-en.en.txt de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms2s.IWSLT16.TED.dev2010.de-en.de.txt:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms2s.IWSLT16.TED.dev2010.de-en.en.txt --test_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s.IWSLT16.TED.tst2010.fr-en.fr.txt:/windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s.IWSLT16.TED.tst2010.fr-en.en.txt de:en:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms2s.IWSLT16.TED.tst2010.de-en.de.txt:/windroot/raj/corpora_downloads/IWSLT2016/de-en/ms2s.IWSLT16.TED.tst2010.de-en.en.txt --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000 --is_multisource 
python make_data.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.dev.tgt
done


for j in 16
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic --gpu 0 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 100000 
done

for j in 8
do
python train.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic --gpu 1 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 100000
done




for i in 8 16
do
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s.IWSLT16.TED.tst2010.fr-en.fr.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/ms2s.IWSLT16.TED.tst2010.de-en.de.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$i"k/IWSLT16.TED.tst2010.src
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s.IWSLT16.TED.tst2010.fr-en.en.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$i"k/IWSLT16.TED.tst2010.tgt
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s.IWSLT16.TED.tst2013.fr-en.fr.txt /windroot/raj/corpora_downloads/IWSLT2016/de-en/ms2s.IWSLT16.TED.tst2013.de-en.de.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$i"k/IWSLT16.TED.tst2013.src
python create_multisource_corpus.py --incorpus /windroot/raj/corpora_downloads/IWSLT2016/fr-en/ms2s.IWSLT16.TED.tst2013.fr-en.en.txt --outcorpus /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$i"k/IWSLT16.TED.tst2013.tgt
done

for j in 8 16
do
for l in 4
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 2
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 2
done
done


for j in 8 16
do
for l in 8
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 2
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 2
done
done

for j in 8 16
do
for l in 12
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 2
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 2
done
done

for j in 8 16
do
for l in 16
do
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.tgt --gpu 2
python eval.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.train.config /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.model.best.npz /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.src /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$l" --mode eval_bleu --beam_width "$l" --nb_steps_ratio 1.5 --ref /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.tgt --apply_preprocessing --apply_postprocessing --prepostprocessor /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/ --tgt_fn /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.tgt --gpu 2
done
done

for j in 8 16
do
python graph_training.py --lib plotly /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/mlnmt.basic.result.sqlite ~/public_html/IWSLT2016"$i"-enms2s2s1t"$j"k.html&
done

rm /windroot/raj/corpora_downloads/IWSLT2016/ms2s1s1t
for i in fr de
do
for j in 8 16
do
for k in 4 8 12 16
do
echo -n "Lang pair: $i-en Vocab size: ${j}k Beam size: $k Test Set: tst2010 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms2s1s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2010."$i"-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms2s1s1t
echo -n "Lang pair: $i-en Vocab size: ${j}k Beam size: $k Test Set: tst2013 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms2s1s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s.IWSLT16.TED.tst2013."$i"-en.en.txt /windroot/raj/corpora_downloads/IWSLT2016/"$i"-en/ms2s/1s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms2s1s1t
done
done
done

rm /windroot/raj/corpora_downloads/IWSLT2016/ms2s2s1t
for j in 8 16
do
for k in 4 8 12 16
do
echo -n "Dropping Random sentences setting: Without Drop Vocab size: ${j}k Beam size: $k Test Set: tst2010 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms2s2s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.tgt /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2010.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms2s2s1t
echo -n "Dropping Random sentences setting: Without Drop Vocab size: ${j}k Beam size: $k Test Set: tst2013 --- " >> /windroot/raj/corpora_downloads/IWSLT2016/ms2s2s1t
python bleu_computer.py /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.tgt /windroot/raj/corpora_downloads/IWSLT2016/ms2s/2s1t/"$j"k/IWSLT16.TED.tst2013.beam_search_"$k".unk_replaced.restored >> /windroot/raj/corpora_downloads/IWSLT2016/ms2s2s1t
done
done



########## UN CORPUS --- HERE COME THE BIG DADDIES!


for i in fr
do
for j in 16
do
mkdir -p /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way."$i".2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok."$i":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok."$i":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000
python make_data.py /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.dev.tgt
done
done


for i in fr
do
for j in 16
do
python train.py /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic --gpu 2 --mb_size 48 --weight_decay 0.000001 --postprocess --max_nb_iters 300000 --max_src_tgt_len 100
done
done


for i in es
do
for j in 16
do
mkdir -p /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way."$i".2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok."$i":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok."$i":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000
python make_data.py /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.dev.tgt --use_voc /windroot/raj/corpora_downloads/UN_CORPUS/fr-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic.voc --use_tgt_voc_only
done
done



for i in es
do
for j in 16
do
python train.py /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic --gpu 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 200000 --max_src_tgt_len 100
done
done

for j in 16
do
python graph_training.py --lib plotly /windroot/raj/corpora_downloads/UN_CORPUS/es-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic.result.sqlite ~/public_html/UN_CORPUSes-enms6s2M1s1t"$j"k.html&
done

for j in 16
do
python graph_training.py --lib plotly /windroot/raj/corpora_downloads/UN_CORPUS/fr-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic.result.sqlite ~/public_html/UN_CORPUSfr-enms6s2M1s1t"$j"k.html&
done

for j in 16
do
python graph_training.py --lib plotly /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/mlnmt.basic.result.sqlite ~/public_html/UN_CORPUSfres-enms6s2M2s1t"$j"k.html&
done


for i in ru zh ar
do
for j in 16
do
mkdir -p /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way."$i".2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok."$i":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok."$i":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000
python make_data.py /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/UN_CORPUS/"$i"-en/ms6s/2M/1s1t/"$j"k/mlnmt.dev.tgt --use_voc /windroot/raj/corpora_downloads/UN_CORPUS/fr-en/ms6s/2M/1s1t/"$j"k/mlnmt.basic.voc --use_tgt_voc_only
done
done


for j in 16
do
mkdir -p /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.fr.2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt es:en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.es.2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt --dev_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.fr:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en es:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.es:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en --test_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.fr:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en es:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.es:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000 --is_multisource
python make_data.py /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/mlnmt.dev.tgt
done

for j in 16
do
python train.py /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$j"k/mlnmt.basic --gpu 1 --mb_size 32 --weight_decay 0.000001 --postprocess --max_nb_iters 400000 --max_src_tgt_len 200
done


langs=(fr es ru ar)

for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
if [[ $i != $j ]]
then
echo $i $j
for k in 16
do
mkdir -p /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$i"-"$j"/"$k"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way."$i".2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt "$j":en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way."$j".2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok."$i":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en "$j":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok."$j":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok."$i":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en "$j":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok."$j":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$i"-"$j"/"$k"k --max_src_vocab "$k"000 --max_tgt_vocab "$k"000 --is_multisource
python make_data.py /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$i"-"$j"/"$k"k/mlnmt.train.src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$i"-"$j"/"$k"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$i"-"$j"/"$k"k/mlnmt.basic --src_voc_size "$k"000 --tgt_voc_size "$k"000 --test_src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$i"-"$j"/"$k"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$i"-"$j"/"$k"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$i"-"$j"/"$k"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/2s1t/"$i"-"$j"/"$k"k/mlnmt.dev.tgt
done
fi
done
done




for j in 16
do
mkdir -p /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.fr.2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt es:en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.es.2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt ru:en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.ru.2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt --dev_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.fr:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en es:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.es:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en ru:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.ru:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en --test_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.fr:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en es:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.es:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en ru:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.ru:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000 --is_multisource
python make_data.py /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k/mlnmt.dev.tgt
done


for j in 16
do
python train.py /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$j"k/mlnmt.basic --gpu 1 --mb_size 16 --weight_decay 0.000001 --postprocess --max_nb_iters 600000 --max_src_tgt_len 350
done


langs=(fr es ru ar)
for x in `seq 1 4`
do
i=$langs[$x]
next=`echo $x+1 | bc`
for y in `seq $next 4`
do
j=$langs[$y]
nextnext=`echo $y+1 | bc`
for z in `seq $nextnext 4`
do
k=$langs[$z]
nextnextnext=`echo $z+1 | bc`
echo $i $j $k
for l in 16
do
mkdir -p /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$i"-"$j"-"$k"/"$l"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way."$i".2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt "$j":en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way."$j".2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt "$k":en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way."$k".2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt --dev_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok."$i":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en "$j":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok."$j":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en "$k":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok."$k":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en --test_lang_corpora_pairs "$i":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok."$i":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en "$j":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok."$j":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en "$k":en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok."$k":/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$i"-"$j"-"$k"/"$l"k --max_src_vocab "$l"000 --max_tgt_vocab "$l"000 --is_multisource
python make_data.py /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$i"-"$j"-"$k"/"$l"k/mlnmt.train.src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$i"-"$j"-"$k"/"$l"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$i"-"$j"-"$k"/"$l"k/mlnmt.basic --src_voc_size "$l"000 --tgt_voc_size "$l"000 --test_src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$i"-"$j"-"$k"/"$l"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$i"-"$j"-"$k"/"$l"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$i"-"$j"-"$k"/"$l"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/3s1t/"$i"-"$j"-"$k"/"$l"k/mlnmt.dev.tgt
done
done
done
done

for j in 16
do
mkdir -p /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k/
python generate_multilingual_bpe_data.py --train_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.fr.2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt es:en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.es.2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt ru:en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.ru.2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt ar:en:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.ar.2M.tok.txt:/windroot/raj/corpora_downloads/UN_CORPUS/UNv1.0.6way.en.2M.tok.txt --dev_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.fr:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en es:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.es:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en ru:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.ru:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en ar:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.ar:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/devset/UNv1.0.devset.tok.en --test_lang_corpora_pairs fr:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.fr:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en es:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.es:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en ru:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.ru:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en ar:en:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.ar:/windroot/raj/corpora_downloads/UN_CORPUS/testsets/testset/UNv1.0.testset.tok.en --balance_vocab_counts --balance_corpora --save_prefix /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k --max_src_vocab "$j"000 --max_tgt_vocab "$j"000 --is_multisource
python make_data.py /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k/mlnmt.train.src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k/mlnmt.train.tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k/mlnmt.basic --src_voc_size "$j"000 --tgt_voc_size "$j"000 --test_src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k/mlnmt.test.src --test_tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k/mlnmt.test.tgt --dev_src /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k/mlnmt.dev.src --dev_tgt /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k/mlnmt.dev.tgt
done

for j in 16
do
python train.py /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k/mlnmt.basic /windroot/raj/corpora_downloads/UN_CORPUS/ms6s/2M/4s1t/"$j"k/mlnmt.basic --gpu 1 --mb_size 8 --weight_decay 0.000001 --postprocess --max_nb_iters 800000 --max_src_tgt_len 500
done


###### Multigpu

for i in mr
do
for j in 8
do
python train.py /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic /windroot/raj/NMTExperiments/MS/ms_strategies_indian/parallel_corpora_normalized/general/"$i"-hi/1s1t/"$j"k/mlnmt.basic.2gpus --gpu 1 2 --mb_size 64 --weight_decay 0.000001 --postprocess --max_nb_iters 30000
done
done